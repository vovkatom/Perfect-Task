import{j as e,c as R,a as y,u as T,r as c,b as A,o as V,I as B,P as K,d as Y,n as $,e as G,s as J,f as L,g as Q,L as W,l as X,h as Z}from"./index-2a0c4c84.js";import{C as z}from"./Container-8299ac00.js";import{I as g,s as ee}from"./Icon-d3cb86b8.js";import{C as H,a as se,S as te}from"./ScreensPage-09385d47.js";const oe="_burgerButton_1l6xo_1",ae="_burgerIcon_1l6xo_15",U={burgerButton:oe,burgerIcon:ae},ne=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:U.burgerButton,type:"button",onClick:s,children:e.jsx(g,{id:"icon-menu",className:U.burgerIcon,width:"24",height:"24"})})}),le="_headerMainContainer_eqfuf_1",re="_headerContainer_eqfuf_26",ce="_customBox_eqfuf_51",ie="_user_eqfuf_58",de="_userName_eqfuf_66",me="_avatar_eqfuf_84",_={headerMainContainer:le,headerContainer:re,customBox:ce,user:ie,userName:de,avatar:me},ue="_background_17xf8_1",pe="_modalPageBox_17xf8_15",_e="_close_17xf8_27",he="_editProfileTitle_17xf8_36",xe="_errorText_17xf8_124",b={background:ue,modalPageBox:pe,close:_e,editProfileTitle:he,errorText:xe},ge=({isOpen:s,onClose:t,title:a,children:o})=>s?e.jsx("div",{className:b.background,children:e.jsxs("div",{className:b.modalPageBox,children:[e.jsx("span",{className:b.close,onClick:t,children:"Ã—"}),e.jsx("h2",{className:b.editProfileTitle,children:a}),e.jsx("div",{className:b.content,children:o})]})}):null,be="_inputClassName_1l4tr_2",je="_plusIcon_1l4tr_25",fe="_buttonSend_1l4tr_32",Ne="_authControl_1l4tr_138",Ce="_profileForm_1l4tr_143",ve="_avatar_1l4tr_150",Ie="_buttonIconProfile_1l4tr_159",Pe="_buttonPlusProfile_1l4tr_172",m={inputClassName:be,plusIcon:je,buttonSend:fe,authControl:Ne,profileForm:Ce,avatar:ve,buttonIconProfile:Ie,buttonPlusProfile:Pe},ke=R().shape({email:y().email().required(),password:y().required(),name:y().required()}),Te=({user:s,onCloseModal:t})=>{var C,v,I;const a=T(),[o,n]=c.useState(null),{register:r,handleSubmit:u,formState:{errors:d}}=A({defaultValues:s,resolver:V(ke)}),p=i=>{const l=i.target.files[0];n(l)},w=async i=>{try{const l=new FormData;l.append("avatarURL",o),l.append("name",i.name),l.append("email",i.email),l.append("password",i.password),t(),await a(Y(l)),$.Notify.success("Profile updated successfully")}catch{return $.Notify.failure("Server error. Please try again.")}};return e.jsxs("form",{className:m.profileForm,onSubmit:u(w),children:[e.jsxs("div",{className:m.avatar,children:[e.jsx("img",{src:o?URL.createObjectURL(o):s.avatarURL,alt:"avatar"}),e.jsxs("div",{className:m.buttonIconProfile,children:[e.jsx("label",{htmlFor:"avatarInput",children:e.jsx("svg",{width:"24",height:"24",className:m.plusIcon,children:e.jsx("use",{xlinkHref:`${ee}#icon-plus`})})}),e.jsx("input",{id:"avatarInput",type:"file",accept:"image/*",onChange:p,style:{display:"none"}})]})]}),e.jsx("input",{className:m.inputClassName,...r("name")}),e.jsx(B,{message:(C=d.name)==null?void 0:C.message}),e.jsx("input",{className:m.inputClassName,...r("email")}),e.jsx(B,{message:(v=d.email)==null?void 0:v.message}),e.jsx(K,{className:m.inputClassName,register:r,placeholder:"Current password"}),e.jsx(B,{message:(I=d.password)==null?void 0:I.message}),e.jsx("button",{className:m.buttonSend,type:"submit",children:"Send"})]})},we="_background_1bogy_1",ye="_popUpBox_1bogy_17",Be="_themeList_1bogy_38",Le="_popUpBtn_1bogy_44",P={background:we,popUpBox:ye,themeList:Be,popUpBtn:Le},Se="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let qe=(s=21)=>{let t="",a=crypto.getRandomValues(new Uint8Array(s));for(;s--;)t+=Se[a[s]&63];return t};const Me=({children:s,onClick:t,listClassName:a,itemClassName:o})=>e.jsx("div",{className:P.background,children:e.jsx("div",{className:P.popUpBox,children:e.jsx("ul",{className:`${P.themeList} ${a} `,children:s==null?void 0:s.map((n,r)=>e.jsx("li",{id:qe(),className:o,children:e.jsx("button",{className:P.popUpBtn,onClick:()=>t(n),children:n})},r))})})}),S="theme",j="light",f="dark",N="violet",$e=()=>{const s=document.querySelector("body");document.querySelector(".themeChangeList").addEventListener("click",a=>{a.preventDefault();const{textContent:o}=a.target,n=o.trim().toLowerCase();switch(console.log(n),console.log(s),n){case j:localStorage.setItem(S,j),s.classList.add(j),s.classList.remove(f),s.classList.remove(N);break;case f:localStorage.setItem(S,f),s.classList.add(f),s.classList.remove(j),s.classList.remove(N);break;case N:localStorage.setItem(S,N),s.classList.add(N),s.classList.remove(j),s.classList.remove(f);break}})},Ue=({onClick:s})=>(c.useEffect(()=>{$e()},[]),e.jsx(Me,{onClick:s,listClassName:"themeChangeList",itemClassName:"themeChangeItem",children:["Light","Dark","Violet"]})),Oe="_themeBtn_1njqs_1",Fe="_themeIcon_1njqs_31",O={themeBtn:Oe,themeIcon:Fe},He=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsxs("button",{className:O.themeBtn,type:"button",onClick:s,children:["Theme",e.jsx(g,{id:"chevron-down",className:O.themeIcon,width:"10",height:"7"})]})}),Ee=({toggleSidebar:s})=>{const t=G(J),[a,o]=c.useState(!1),[n,r]=c.useState(!1),u=()=>{o(!0)},d=()=>{o(!1)},p=()=>{r(!n)};return e.jsxs("div",{className:_.headerMainContainer,children:[e.jsxs("header",{className:_.headerContainer,children:[e.jsx(ne,{onClick:s}),e.jsxs("div",{className:_.customBox,children:[e.jsx(He,{onClick:p}),e.jsxs("div",{className:_.user,onClick:u,children:[e.jsx("p",{className:_.userName,children:t==null?void 0:t.name}),e.jsx("div",{className:_.avatar,children:e.jsx("img",{src:`${t==null?void 0:t.avatarURL}`,alt:"User avatar"})})]})]})]}),n&&e.jsx(Ue,{onClick:p}),e.jsxs(ge,{isOpen:a,onClose:d,title:"Edit profile",children:[e.jsx(Te,{user:t,onCloseModal:d})," "]})]})},De="_container_151v0_1",Re="_sidebar_151v0_11",Ae="_myBoardsTitle_151v0_30",q={container:De,sidebar:Re,myBoardsTitle:Ae},Ve="_logo_1u7oy_1",Ke="_logoIcon_1u7oy_8",Ye="_logoTitle_1u7oy_22",M={logo:Ve,logoIcon:Ke,logoTitle:Ye},Ge=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:M.logo,children:[e.jsx(g,{className:M.logoIcon,id:"icon-logo2",width:"32",height:"32"}),e.jsx("p",{className:M.logoTitle,children:"Perfect Task"})]})}),Je="_button_rp9xq_1",Qe="_buttonTitle_rp9xq_21",We="_buttonPlus_rp9xq_29",Xe="_iconPlus_rp9xq_39",k={button:Je,buttonTitle:Qe,buttonPlus:We,iconPlus:Xe},Ze=()=>{const[s,t]=c.useState(!1),a=()=>{t(!0)},o=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:k.button,type:"button",onClick:a,children:[e.jsx("p",{className:k.buttonTitle,children:"Create a new board"}),e.jsx("div",{className:k.buttonPlus,children:e.jsx(g,{id:"icon-plus",className:k.iconPlus,width:"20",height:"20"})})]}),e.jsx(H,{isOpen:s,onClose:o,children:e.jsx(se,{closeModal:o})})]})},ze="_modalInput_9fd9x_8",es="_modalControl_9fd9x_20",ss="_modalControlText_9fd9x_27",ts="_modalButton_9fd9x_34",h={modalInput:ze,modalControl:es,modalControlText:ss,modalButton:ts},F={email:"",message:""},os=()=>{const[s,t]=c.useState({...F}),a=T(),o=i=>{const{name:l,value:E}=i.target;t(D=>({...D,[l]:E}))},n=i=>{i.preventDefault();try{a(Q(s)),r()}catch(l){console.log(l.response.data.message)}},r=()=>{t({...F})},u=c.useId(),d=c.useId(),{email:p,message:w}=s,C=L(h.modalInput,h.modalControl),v=L(h.modalInput,h.modalControlText),I=L(h.modalButton,h.modalControl);return e.jsx("div",{children:e.jsxs("form",{onSubmit:n,children:[e.jsx("div",{children:e.jsx("input",{className:C,type:"email",id:u,name:"email",value:p,onChange:o,placeholder:"Email address",required:!0})}),e.jsx("div",{children:e.jsx("textarea",{className:v,id:d,name:"message",value:w,onChange:o,rows:"4",placeholder:"Comment",required:!0})}),e.jsx("button",{className:I,type:"submit",children:"Send"})]})})},as="_container_79wtw_1",ns="_image_79wtw_15",ls="_infoText_79wtw_23",rs="_perfectTask_79wtw_32",cs="_question_79wtw_36",is="_needHelpLink_79wtw_43",ds="_iconHelp_79wtw_53",x={container:as,image:ns,infoText:ls,perfectTask:rs,question:cs,needHelpLink:is,iconHelp:ds},ms=()=>{const[s,t]=c.useState(!1),a=()=>{t(!0)},o=()=>{t(!1)};return e.jsxs("div",{className:x.container,children:[e.jsx("svg",{className:x.image}),e.jsxs("p",{className:x.infoText,children:["If you need help with"," ",e.jsx("span",{className:x.perfectTask,children:"Perfect Task"}),", check out our support resources or reach out to our customer support team."]}),e.jsxs(W,{className:x.needHelpLink,onClick:a,children:[e.jsx(g,{id:"icon-help-circle",className:x.iconHelp,width:"20",height:"20"}),"Need help?"]}),e.jsx(H,{isOpen:s,onClose:o,title:"Need help",children:e.jsx(os,{})})]})},us="_btn_logout_18dqq_1",ps={btn_logout:us},_s=()=>{const s=T(),t=()=>s(X());return e.jsx("div",{children:e.jsxs("button",{className:ps.btn_logout,onClick:t,type:"button",children:[e.jsx(g,{id:"logout",width:"32",height:"32",className:""}),"Log Out"]})})},hs=()=>e.jsxs("div",{className:`${q.container} ${q.sidebar}`,children:[e.jsx(Ge,{}),e.jsx("h3",{className:q.myBoardsTitle,children:"My boards"}),e.jsx(Ze,{}),e.jsx(ms,{}),e.jsx(_s,{})]}),xs="_background_lg9e8_1",gs={background:xs},Cs=()=>{const[s,t]=c.useState(!1),a=window.location.search,n=new URLSearchParams(a).get("token"),r=T();n&&r(Z(n));const u=()=>{t(!s)};return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{toggleSidebar:u}),e.jsxs("div",{className:gs.background,children:[s&&e.jsx(hs,{}),e.jsx(z,{className:"home-page",children:e.jsx(te,{})})]})]})};export{Cs as default};

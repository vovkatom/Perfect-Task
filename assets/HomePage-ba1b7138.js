import{j as e,c as A,a as L,u as q,r as a,b as R,o as V,I as S,P as W,d as K,n as $,e as Y,s as Z,f as w,g as G,L as J,l as Q}from"./index-a2a8d7a8.js";import{C as X}from"./Container-f910c1ef.js";import{I as C,s as z}from"./Icon-95536c90.js";import{C as F,a as ee,S as se}from"./ScreensPage-d8103e4a.js";const te="_burgerButton_1ff8g_1",oe="_burgerIcon_1ff8g_15",E={burgerButton:te,burgerIcon:oe},ne=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:E.burgerButton,type:"button",onClick:s,children:e.jsx(C,{id:"icon-menu",className:E.burgerIcon,width:"24",height:"24"})})}),ae="_headerMainContainer_1nuvp_1",le="_headerContainer_1nuvp_26",re="_customBox_1nuvp_51",ce="_user_1nuvp_58",ie="_userName_1nuvp_66",de="_avatar_1nuvp_81",p={headerMainContainer:ae,headerContainer:le,customBox:re,user:ce,userName:ie,avatar:de},me="_background_17xf8_1",ue="_modalPageBox_17xf8_15",pe="_close_17xf8_27",_e="_editProfileTitle_17xf8_36",he="_errorText_17xf8_124",g={background:me,modalPageBox:ue,close:pe,editProfileTitle:_e,errorText:he},xe=({isOpen:s,onClose:t,title:o,children:n})=>s?e.jsx("div",{className:g.background,children:e.jsxs("div",{className:g.modalPageBox,children:[e.jsx("span",{className:g.close,onClick:t,children:"Ã—"}),e.jsx("h2",{className:g.editProfileTitle,children:o}),e.jsx("div",{className:g.content,children:n})]})}):null,ge="_inputClassName_1l4tr_2",je="_plusIcon_1l4tr_25",be="_buttonSend_1l4tr_32",fe="_authControl_1l4tr_138",ve="_profileForm_1l4tr_143",Ce="_avatar_1l4tr_150",Ne="_buttonIconProfile_1l4tr_159",ke="_buttonPlusProfile_1l4tr_172",m={inputClassName:ge,plusIcon:je,buttonSend:be,authControl:fe,profileForm:ve,avatar:Ce,buttonIconProfile:Ne,buttonPlusProfile:ke},Ie=A().shape({email:L().email().required(),password:L().required(),name:L().required()}),Pe=({user:s,onCloseModal:t})=>{var N,k,I;const o=q(),[n,r]=a.useState(null),{register:c,handleSubmit:x,formState:{errors:d}}=R({defaultValues:s,resolver:V(Ie)}),u=i=>{const l=i.target.files[0];r(l)},B=async i=>{try{const l=new FormData;l.append("avatarURL",n),l.append("name",i.name),l.append("email",i.email),l.append("password",i.password),t(),await o(K(l)),$.Notify.success("Profile updated successfully")}catch{return $.Notify.failure("Server error. Please try again.")}};return e.jsxs("form",{className:m.profileForm,onSubmit:x(B),children:[e.jsxs("div",{className:m.avatar,children:[e.jsx("img",{src:n?URL.createObjectURL(n):s.avatarURL,alt:"avatar"}),e.jsxs("div",{className:m.buttonIconProfile,children:[e.jsx("label",{htmlFor:"avatarInput",children:e.jsx("svg",{width:"24",height:"24",className:m.plusIcon,children:e.jsx("use",{xlinkHref:`${z}#icon-plus`})})}),e.jsx("input",{id:"avatarInput",type:"file",accept:"image/*",onChange:u,style:{display:"none"}})]})]}),e.jsx("input",{className:m.inputClassName,...c("name")}),e.jsx(S,{message:(N=d.name)==null?void 0:N.message}),e.jsx("input",{className:m.inputClassName,...c("email")}),e.jsx(S,{message:(k=d.email)==null?void 0:k.message}),e.jsx(W,{className:m.inputClassName,register:c,placeholder:"Current password"}),e.jsx(S,{message:(I=d.password)==null?void 0:I.message}),e.jsx("button",{className:m.buttonSend,type:"submit",children:"Send"})]})},Te="_background_1qqs1_1",Be="_popUpBox_1qqs1_17",Le="_themeList_1qqs1_38",Se="_popUpBtn_1qqs1_44",P={background:Te,popUpBox:Be,themeList:Le,popUpBtn:Se},we="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ye=(s=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(s));for(;s--;)t+=we[o[s]&63];return t};const Me=({children:s,onClick:t,listClassName:o,itemClassName:n})=>e.jsx("div",{className:P.background,children:e.jsx("div",{className:P.popUpBox,children:e.jsx("ul",{className:`${P.themeList} ${o} `,children:s==null?void 0:s.map((r,c)=>e.jsx("li",{id:ye(),className:n,children:e.jsx("button",{className:P.popUpBtn,onClick:()=>t(r),children:r})},c))})})}),y="theme",j="light",b="dark",f="violet",qe=()=>{const s=document.querySelector("body");document.querySelector(".themeChangeList").addEventListener("click",o=>{o.preventDefault();const{textContent:n}=o.target,r=n.trim().toLowerCase();switch(console.log(r),console.log(s),r){case j:localStorage.setItem(y,j),s.classList.add(j),s.classList.remove(b),s.classList.remove(f);break;case b:localStorage.setItem(y,b),s.classList.add(b),s.classList.remove(j),s.classList.remove(f);break;case f:localStorage.setItem(y,f),s.classList.add(f),s.classList.remove(j),s.classList.remove(b);break}})},$e=({onClick:s})=>(a.useEffect(()=>{qe()},[]),e.jsx(Me,{onClick:s,listClassName:"themeChangeList",itemClassName:"themeChangeItem",children:["Light","Dark","Violet"]})),Ee="_themeBtn_ik5it_1",Ue="_themeIcon_ik5it_30",U={themeBtn:Ee,themeIcon:Ue},Oe=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsxs("button",{className:U.themeBtn,type:"button",onClick:s,children:["Theme",e.jsx(C,{id:"chevron-down",className:U.themeIcon,width:"10",height:"7"})]})}),Fe=({toggleSidebar:s})=>{const t=Y(Z),[o,n]=a.useState(!1),[r,c]=a.useState(!1),x=()=>{n(!0)},d=()=>{n(!1)},u=()=>{c(!r)};return e.jsxs("div",{className:p.headerMainContainer,children:[e.jsxs("header",{className:p.headerContainer,children:[e.jsx(ne,{onClick:s}),e.jsxs("div",{className:p.customBox,children:[e.jsx(Oe,{onClick:u}),e.jsxs("div",{className:p.user,onClick:x,children:[e.jsx("p",{className:p.userName,children:t==null?void 0:t.name}),e.jsx("div",{className:p.avatar,children:e.jsx("img",{src:`${t==null?void 0:t.avatarURL}`,alt:"User avatar"})})]})]})]}),e.jsx($e,{onClick:u}),e.jsxs(xe,{isOpen:o,onClose:d,title:"Edit profile",children:[e.jsx(Pe,{user:t,onCloseModal:d})," "]})]})},He="_container_151v0_1",De="_sidebar_151v0_11",Ae="_myBoardsTitle_151v0_30",v={container:He,sidebar:De,myBoardsTitle:Ae},Re="_logo_st7ob_1",Ve="_logoIcon_st7ob_8",We="_logoTitle_st7ob_22",M={logo:Re,logoIcon:Ve,logoTitle:We},Ke=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:M.logo,children:[e.jsx(C,{className:M.logoIcon,id:"icon-logo2",width:"32",height:"32"}),e.jsx("p",{className:M.logoTitle,children:"Perfect Task"})]})}),Ye="_button_rp9xq_1",Ze="_buttonTitle_rp9xq_21",Ge="_buttonPlus_rp9xq_29",Je="_iconPlus_rp9xq_39",T={button:Ye,buttonTitle:Ze,buttonPlus:Ge,iconPlus:Je},Qe=()=>{const[s,t]=a.useState(!1),o=()=>{t(!0)},n=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:T.button,type:"button",onClick:o,children:[e.jsx("p",{className:T.buttonTitle,children:"Create a new board"}),e.jsx("div",{className:T.buttonPlus,children:e.jsx(C,{id:"icon-plus",className:T.iconPlus,width:"20",height:"20"})})]}),e.jsx(F,{isOpen:s,onClose:n,children:e.jsx(ee,{})})]})},Xe="_modalInput_9fd9x_8",ze="_modalControl_9fd9x_20",es="_modalControlText_9fd9x_27",ss="_modalButton_9fd9x_34",_={modalInput:Xe,modalControl:ze,modalControlText:es,modalButton:ss},O={email:"",message:""},ts=()=>{const[s,t]=a.useState({...O}),o=q(),n=i=>{const{name:l,value:H}=i.target;t(D=>({...D,[l]:H}))},r=i=>{i.preventDefault();try{o(G(s)),c()}catch(l){console.log(l.response.data.message)}},c=()=>{t({...O})},x=a.useId(),d=a.useId(),{email:u,message:B}=s,N=w(_.modalInput,_.modalControl),k=w(_.modalInput,_.modalControlText),I=w(_.modalButton,_.modalControl);return e.jsx("div",{children:e.jsxs("form",{onSubmit:r,children:[e.jsx("div",{children:e.jsx("input",{className:N,type:"email",id:x,name:"email",value:u,onChange:n,placeholder:"Email address",required:!0})}),e.jsx("div",{children:e.jsx("textarea",{className:k,id:d,name:"message",value:B,onChange:n,rows:"4",placeholder:"Comment",required:!0})}),e.jsx("button",{className:I,type:"submit",children:"Send"})]})})},os="_container_1f9ov_1",ns="_image_1f9ov_10",as="_infoText_1f9ov_18",ls="_perfectTask_1f9ov_27",rs="_question_1f9ov_31",cs="_needHelp_1f9ov_38",is="_link_1f9ov_42",h={container:os,image:ns,infoText:as,perfectTask:ls,question:rs,needHelp:cs,link:is},ds=s=>a.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s},a.createElement("g",{clipPath:"url(#clip0_104_748)"},a.createElement("path",{d:"M9.99984 18.3334C14.6022 18.3334 18.3332 14.6024 18.3332 10C18.3332 5.39765 14.6022 1.66669 9.99984 1.66669C5.39746 1.66669 1.6665 5.39765 1.6665 10C1.6665 14.6024 5.39746 18.3334 9.99984 18.3334Z",stroke:"#161616",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M7.5752 7.49999C7.77112 6.94304 8.15782 6.47341 8.66682 6.17426C9.17583 5.87512 9.77428 5.76577 10.3562 5.86558C10.9381 5.96539 11.4659 6.26792 11.8461 6.71959C12.2263 7.17126 12.4344 7.74292 12.4335 8.33332C12.4335 9.99999 9.93353 10.8333 9.93353 10.8333",stroke:"#161616",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10 14.1667H10.0125",stroke:"#161616",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_104_748"},a.createElement("rect",{width:20,height:20,fill:"white"})))),ms=()=>{const[s,t]=a.useState(!1),o=()=>{t(!0)},n=()=>{t(!1)};return e.jsxs("div",{className:h.container,children:[e.jsx("svg",{className:h.image}),e.jsxs("p",{className:h.infoText,children:["If you need help with"," ",e.jsx("span",{className:h.perfectTask,children:"Perfect Task"}),", check out our support resources or reach out to our customer support team."]}),e.jsx("p",{className:h.needHelp,children:e.jsxs(J,{className:h.link,onClick:o,children:[e.jsx(ds,{}),"Need help?"]})}),e.jsx(F,{isOpen:s,onClose:n,title:"Need help",children:e.jsx(ts,{})})]})},us="_btn_logout_18dqq_1",ps={btn_logout:us},_s=()=>{const s=q(),t=()=>s(Q());return e.jsx("div",{children:e.jsxs("button",{className:ps.btn_logout,onClick:t,type:"button",children:[e.jsx(C,{id:"logout",width:"32",height:"32",className:""}),"Log Out"]})})},hs=()=>e.jsxs("div",{className:`${v.container} ${v.sidebar}`,children:[e.jsx(Ke,{}),e.jsx("h3",{className:v.myBoardsTitle,children:"My boards"}),e.jsx(Qe,{}),e.jsx(ms,{className:v.needHelpPosition}),e.jsx(_s,{className:v.logoutPosition})]}),xs="_background_stxq7_1",gs={background:xs},Cs=()=>{const[s,t]=a.useState(!1),o=()=>{t(!s)};return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{toggleSidebar:o}),e.jsxs("div",{className:gs.background,children:[s&&e.jsx(hs,{}),e.jsx(X,{className:"home-page",children:e.jsx(se,{})})]})]})};export{Cs as default};

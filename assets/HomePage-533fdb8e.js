import{j as e,c as R,a as L,u as w,r as c,b as z,o as V,I as B,P as K,d as Y,n as U,e as q,s as G,f as J,g as Q,h as S,i as W,L as X,l as Z,k as ee}from"./index-4f975aca.js";import{C as se}from"./Container-1d696297.js";import{I as j,s as te}from"./Icon-40c77866.js";import{C as E,a as oe,S as ae}from"./ScreensPage-dc0683cc.js";const ne="_burgerButton_1l6xo_1",le="_burgerIcon_1l6xo_15",O={burgerButton:ne,burgerIcon:le},re=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:O.burgerButton,type:"button",onClick:s,children:e.jsx(j,{id:"icon-menu",className:O.burgerIcon,width:"24",height:"24"})})}),ce="_headerMainContainer_gaapz_1",ie="_headerContainer_gaapz_26",de="_customBox_gaapz_51",me="_user_gaapz_58",ue="_userName_gaapz_66",pe="_avatar_gaapz_84",_e="_avatarImg_gaapz_98",p={headerMainContainer:ce,headerContainer:ie,customBox:de,user:me,userName:ue,avatar:pe,avatarImg:_e},he="_background_17xf8_1",xe="_modalPageBox_17xf8_15",ge="_close_17xf8_27",je="_editProfileTitle_17xf8_36",be="_errorText_17xf8_124",b={background:he,modalPageBox:xe,close:ge,editProfileTitle:je,errorText:be},fe=({isOpen:s,onClose:t,title:o,children:a})=>s?e.jsx("div",{className:b.background,children:e.jsxs("div",{className:b.modalPageBox,children:[e.jsx("span",{className:b.close,onClick:t,children:"Ã—"}),e.jsx("h2",{className:b.editProfileTitle,children:o}),e.jsx("div",{className:b.content,children:a})]})}):null,Ne="_inputClassName_1l4tr_2",Ce="_plusIcon_1l4tr_25",ve="_buttonSend_1l4tr_32",Ie="_authControl_1l4tr_138",ke="_profileForm_1l4tr_143",Pe="_avatar_1l4tr_150",Te="_buttonIconProfile_1l4tr_159",we="_buttonPlusProfile_1l4tr_172",d={inputClassName:Ne,plusIcon:Ce,buttonSend:ve,authControl:Ie,profileForm:ke,avatar:Pe,buttonIconProfile:Te,buttonPlusProfile:we},Le=R().shape({email:L().email().required(),password:L().required(),name:L().required()}),Be=({user:s,onCloseModal:t})=>{var v,I,k;const o=w(),[a,n]=c.useState(null),{register:l,handleSubmit:m,formState:{errors:u}}=z({defaultValues:s,resolver:V(Le)}),_=i=>{const r=i.target.files[0];n(r)},h=async i=>{try{const r=new FormData;r.append("avatarURL",a),r.append("name",i.name),r.append("email",i.email),r.append("password",i.password),t(),await o(Y(r)),U.Notify.success("Profile updated successfully")}catch{return U.Notify.failure("Server error. Please try again.")}};return e.jsxs("form",{className:d.profileForm,onSubmit:m(h),children:[e.jsxs("div",{className:d.avatar,children:[e.jsx("img",{src:a?URL.createObjectURL(a):s.avatarURL,alt:"avatar"}),e.jsxs("div",{className:d.buttonIconProfile,children:[e.jsx("label",{htmlFor:"avatarInput",children:e.jsx("svg",{width:"24",height:"24",className:d.plusIcon,children:e.jsx("use",{xlinkHref:`${te}#icon-plus`})})}),e.jsx("input",{id:"avatarInput",type:"file",accept:"image/*",onChange:_,style:{display:"none"}})]})]}),e.jsx("input",{className:d.inputClassName,...l("name")}),e.jsx(B,{message:(v=u.name)==null?void 0:v.message}),e.jsx("input",{className:d.inputClassName,...l("email")}),e.jsx(B,{message:(I=u.email)==null?void 0:I.message}),e.jsx(K,{className:d.inputClassName,register:l,placeholder:"Current password"}),e.jsx(B,{message:(k=u.password)==null?void 0:k.message}),e.jsx("button",{className:d.buttonSend,type:"submit",children:"Send"})]})},Se="_background_m8621_1",ye="_popUpBox_m8621_17",Me="_themeList_m8621_38",$e="_popUpBtn_m8621_44",P={background:Se,popUpBox:ye,themeList:Me,popUpBtn:$e},Ue="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let qe=(s=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(s));for(;s--;)t+=Ue[o[s]&63];return t};const Oe=({children:s,onClick:t,listClassName:o,itemClassName:a})=>e.jsx("div",{className:P.background,children:e.jsx("div",{className:P.popUpBox,children:e.jsx("ul",{className:`${P.themeList} ${o} `,children:s==null?void 0:s.map((n,l)=>e.jsx("li",{id:qe(),className:a,children:e.jsx("button",{className:P.popUpBtn,onClick:()=>t(n),children:n})},l))})})}),y="theme",f="light",N="dark",C="violet",Fe=()=>{const s=document.querySelector("body");document.querySelector(".themeChangeList").addEventListener("click",o=>{o.preventDefault();const{textContent:a}=o.target,n=a.trim().toLowerCase();switch(console.log(n),console.log(s),n){case f:localStorage.setItem(y,f),s.classList.add(f),s.classList.remove(N),s.classList.remove(C);break;case N:localStorage.setItem(y,N),s.classList.add(N),s.classList.remove(f),s.classList.remove(C);break;case C:localStorage.setItem(y,C),s.classList.add(C),s.classList.remove(f),s.classList.remove(N);break}})},He=({onClick:s})=>(c.useEffect(()=>{Fe()},[]),e.jsx(Oe,{onClick:s,listClassName:"themeChangeList",itemClassName:"themeChangeItem",children:["Light","Dark","Violet"]})),Ee="_themeBtn_1njqs_1",Ae="_themeIcon_1njqs_31",F={themeBtn:Ee,themeIcon:Ae},De=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsxs("button",{className:F.themeBtn,type:"button",onClick:s,children:["Theme",e.jsx(j,{id:"chevron-down",className:F.themeIcon,width:"10",height:"7"})]})}),Re=({toggleSidebar:s})=>{const t=q(G),o=q(J),[a,n]=c.useState(!1),[l,m]=c.useState(!1),u=()=>{n(!0)},_=()=>{n(!1)},h=()=>{m(!l)};return e.jsxs("div",{className:p.headerMainContainer,children:[e.jsxs("header",{className:p.headerContainer,children:[e.jsx(re,{onClick:s}),e.jsxs("div",{className:p.customBox,children:[e.jsx(De,{onClick:h}),e.jsxs("div",{className:p.user,onClick:u,children:[e.jsx("p",{className:p.userName,children:t==null?void 0:t.name}),e.jsx("div",{className:p.avatar,children:o?e.jsx(Q,{}):e.jsx("img",{className:p.avatarImg,src:`${t==null?void 0:t.avatarURL}`,alt:"User avatar"})})]})]})]}),l&&e.jsx(He,{onClick:h}),e.jsxs(fe,{isOpen:a,onClose:_,title:"Edit profile",children:[e.jsx(Be,{user:t,onCloseModal:_})," "]})]})},ze="_container_151v0_1",Ve="_sidebar_151v0_11",Ke="_myBoardsTitle_151v0_30",M={container:ze,sidebar:Ve,myBoardsTitle:Ke},Ye="_logo_1u7oy_1",Ge="_logoIcon_1u7oy_8",Je="_logoTitle_1u7oy_22",$={logo:Ye,logoIcon:Ge,logoTitle:Je},Qe=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:$.logo,children:[e.jsx(j,{className:$.logoIcon,id:"icon-logo2",width:"32",height:"32"}),e.jsx("p",{className:$.logoTitle,children:"Perfect Task"})]})}),We="_button_rp9xq_1",Xe="_buttonTitle_rp9xq_21",Ze="_buttonPlus_rp9xq_29",es="_iconPlus_rp9xq_39",T={button:We,buttonTitle:Xe,buttonPlus:Ze,iconPlus:es},ss=()=>{const[s,t]=c.useState(!1),o=()=>{t(!0)},a=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:T.button,type:"button",onClick:o,children:[e.jsx("p",{className:T.buttonTitle,children:"Create a new board"}),e.jsx("div",{className:T.buttonPlus,children:e.jsx(j,{id:"icon-plus",className:T.iconPlus,width:"20",height:"20"})})]}),e.jsx(E,{isOpen:s,onClose:a,children:e.jsx(oe,{closeModal:a})})]})},ts="_modalInput_9fd9x_8",os="_modalControl_9fd9x_20",as="_modalControlText_9fd9x_27",ns="_modalButton_9fd9x_34",x={modalInput:ts,modalControl:os,modalControlText:as,modalButton:ns},H={email:"",message:""},ls=()=>{const[s,t]=c.useState({...H}),o=w(),a=i=>{const{name:r,value:A}=i.target;t(D=>({...D,[r]:A}))},n=i=>{i.preventDefault();try{o(W(s)),l()}catch(r){console.log(r.response.data.message)}},l=()=>{t({...H})},m=c.useId(),u=c.useId(),{email:_,message:h}=s,v=S(x.modalInput,x.modalControl),I=S(x.modalInput,x.modalControlText),k=S(x.modalButton,x.modalControl);return e.jsx("div",{children:e.jsxs("form",{onSubmit:n,children:[e.jsx("div",{children:e.jsx("input",{className:v,type:"email",id:m,name:"email",value:_,onChange:a,placeholder:"Email address",required:!0})}),e.jsx("div",{children:e.jsx("textarea",{className:I,id:u,name:"message",value:h,onChange:a,rows:"4",placeholder:"Comment",required:!0})}),e.jsx("button",{className:k,type:"submit",children:"Send"})]})})},rs="_container_79wtw_1",cs="_image_79wtw_15",is="_infoText_79wtw_23",ds="_perfectTask_79wtw_32",ms="_question_79wtw_36",us="_needHelpLink_79wtw_43",ps="_iconHelp_79wtw_53",g={container:rs,image:cs,infoText:is,perfectTask:ds,question:ms,needHelpLink:us,iconHelp:ps},_s=()=>{const[s,t]=c.useState(!1),o=()=>{t(!0)},a=()=>{t(!1)};return e.jsxs("div",{className:g.container,children:[e.jsx("svg",{className:g.image}),e.jsxs("p",{className:g.infoText,children:["If you need help with"," ",e.jsx("span",{className:g.perfectTask,children:"Perfect Task"}),", check out our support resources or reach out to our customer support team."]}),e.jsxs(X,{className:g.needHelpLink,onClick:o,children:[e.jsx(j,{id:"icon-help-circle",className:g.iconHelp,width:"20",height:"20"}),"Need help?"]}),e.jsx(E,{isOpen:s,onClose:a,title:"Need help",children:e.jsx(ls,{})})]})},hs="_btn_logout_18dqq_1",xs={btn_logout:hs},gs=()=>{const s=w(),t=()=>s(Z());return e.jsx("div",{children:e.jsxs("button",{className:xs.btn_logout,onClick:t,type:"button",children:[e.jsx(j,{id:"logout",width:"32",height:"32",className:""}),"Log Out"]})})},js=()=>e.jsxs("div",{className:`${M.container} ${M.sidebar}`,children:[e.jsx(Qe,{}),e.jsx("h3",{className:M.myBoardsTitle,children:"My boards"}),e.jsx(ss,{}),e.jsx(_s,{}),e.jsx(gs,{})]}),bs="_background_lg9e8_1",fs={background:bs},ks=()=>{const[s,t]=c.useState(!1),o=window.location.search,n=new URLSearchParams(o).get("token"),l=w();n&&l(ee(n));const m=()=>{t(!s)};return e.jsxs(e.Fragment,{children:[e.jsx(Re,{toggleSidebar:m}),e.jsxs("div",{className:fs.background,children:[s&&e.jsx(js,{}),e.jsx(se,{className:"home-page",children:e.jsx(ae,{})})]})]})};export{ks as default};

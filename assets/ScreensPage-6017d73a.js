import{r as a,j as o,I as g,u as p,L as N,t as I,a as v,z as A,n as B}from"./index-7ddb8eae.js";import{d as C,c as y,a as M,u as S,o as L}from"./userBoard-selectors-9c6540e4.js";const w="_background_1x6ut_1",E="_modalPageBox_1x6ut_16",R="_closeButton_1x6ut_37",$="_closeIcon_1x6ut_53",D="_modalTitle_1x6ut_68",O="_errorText_1x6ut_80",m={background:w,modalPageBox:E,closeButton:R,closeIcon:$,modalTitle:D,errorText:O},U=({isOpen:e,onClose:n,title:c,children:t})=>{const d=a.useRef(),[r,u]=a.useState(!1);return a.useEffect(()=>{u(e)},[e]),a.useEffect(()=>{const i=_=>{d.current.contains(_.target)||n()};return r?document.addEventListener("mousedown",i):document.removeEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[r,n]),r?o.jsx("div",{className:m.background,children:o.jsxs("div",{ref:d,className:m.modalPageBox,children:[o.jsx("button",{className:m.closeButton,onClick:n,children:o.jsx(g,{id:"icon-x-close",className:m.closeIcon,width:"18",height:"18"})}),o.jsx("h2",{className:m.modalTitle,children:c}),o.jsx("div",{className:m.content,children:t})]})}):null},F="_screenPageContainer_10s2k_1",q={screenPageContainer:F},z="_headerDashboardContainer_13x5x_1",H="_boardTitle_13x5x_23",K="_boardTitlePlaceholder_13x5x_36",G="_filterTitle_13x5x_41",J="_filterIcon_13x5x_51",x={headerDashboardContainer:z,boardTitle:H,boardTitlePlaceholder:K,filterTitle:G,filterIcon:J},Q=({boardTitle:e})=>o.jsxs("div",{className:x.headerDashboardContainer,children:[e?o.jsx("h2",{className:x.boardTitle,children:e}):o.jsx("div",{className:x.boardTitlePlaceholder}),o.jsxs("p",{className:x.filterTitle,children:[o.jsx(g,{id:"icon-filter",width:"16",height:"16",className:x.filterIcon}),"Filters"]})]}),V="_screenBackground_160d0_1",W="_screenMainContainer_160d0_46",j={screenBackground:V,screenMainContainer:W},X=({children:e})=>{const[n,c]=a.useState(!1),[t,d]=a.useState(null),r=p(C),u=a.useRef(null);return a.useEffect(()=>{(async()=>{if(!r)return;const{id:_}=r;try{c(!0);const{data:s}=await I(_);if(u.current){const P=(h,b)=>{u.current.style.setProperty(h,`url(${b})`)};[["--bg-mobile-1x",s.backgroundURL.mobile_1x],["--bg-mobile-2x",s.backgroundURL.mobile_2x],["--bg-tablet-1x",s.backgroundURL.tablet_1x],["--bg-tablet-2x",s.backgroundURL.tablet_2x],["--bg-desktop-1x",s.backgroundURL.desktop_1x],["--bg-desktop-2x",s.backgroundURL.desktop_2x]].forEach(([h,b])=>P(h,b))}}catch(s){d(s.message)}finally{c(!1),d(null)}})()},[r]),o.jsx("div",{ref:u,className:j.screenBackground,children:o.jsxs("div",{className:`container ${j.screenMainContainer}`,children:[n&&o.jsx(N,{centered:!0}),t&&o.jsx("p",{children:t}),e]})})},Y="_addColumnButton_1vksl_1",Z="_icon_1vksl_27",oo="_title_1vksl_31",k={addColumnButton:Y,icon:Z,title:oo},eo="_buttonAddColumn_o994u_1",no="_buttonAddCommon_o994u_26",to="_columnPlusButton_o994u_44",so="_commonPlusButton_o994u_54",co="_columnIcon_o994u_64",ro="_commonIcon_o994u_70",ao="_columnTitle_o994u_76",lo="_commonTitle_o994u_83",l={buttonAddColumn:eo,buttonAddCommon:no,columnPlusButton:to,commonPlusButton:so,columnIcon:co,commonIcon:ro,columnTitle:ao,commonTitle:lo},T=({onClick:e,title:n,type:c,id:t})=>o.jsxs("button",{type:c,className:n==="Add another column"?l.buttonAddColumn:l.buttonAddCommon,onClick:e,children:[t&&o.jsx("div",{className:n==="Add another column"?l.columnPlusButton:l.commonPlusButton,children:o.jsx(g,{className:n==="Add another column"?l.columnIcon:l.commonIcon,id:t,width:"14",height:"14"})}),o.jsx("p",{className:n==="Add another column"?l.columnTitle:l.commonTitle,children:n})]}),uo="_form_5pbfd_1",io="_input_5pbfd_5",f={form:uo,input:io},mo=y().shape({title:M().required()}),_o=({closeModal:e})=>{const n=v(),{id:c}=p(C),t=async i=>{const _={title:i.title,board:c},s=await n(A(_));s.type==="boards/addColumn/fulfilled"&&B.Notify.success("Column successful created"),s.error&&B.Notify.failure("Oops,something went wrong. Try again, please."),u()},{register:d,handleSubmit:r,reset:u}=S({resolver:L(mo)});return o.jsxs("form",{className:f.form,onSubmit:r(t),children:[o.jsx("input",{className:f.input,placeholder:"Title",...d("title")}),o.jsx(T,{className:f.submitButton,type:"submit",onClick:e,title:"Add",id:"icon-plus"})]})},xo=()=>{const[e,n]=a.useState(!1),c=()=>{n(!e)},t=()=>{n(!1)};return o.jsxs(o.Fragment,{children:[o.jsx(T,{id:"icon-plus",type:"button",onClick:c,title:"Add another column",className:k.addColumnButton}),o.jsx(U,{isOpen:e,onClose:t,title:"Add column",className:k.addColumnModal,children:o.jsx(_o,{closeModal:t})})]})},ho=()=>{const e=p(C);return o.jsx(o.Fragment,{children:o.jsx("div",{className:q.screenPageContainer,children:o.jsxs(X,{children:[o.jsx(Q,{boardTitle:e.title}),o.jsx(xo,{})]})})})},bo=()=>o.jsx(ho,{}),Co=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"}));export{U as C,bo as S,Co as a};

import{r as d,j as o,I as h,u as p,L as B,x as y,a as T,y as P,n as f}from"./index-7f12b61f.js";import{d as g,c as N,a as k,u as I,o as A}from"./userBoard-selectors-c49364d2.js";const v="_background_1x6ut_1",$="_modalPageBox_1x6ut_16",S="_closeButton_1x6ut_37",w="_closeIcon_1x6ut_53",L="_modalTitle_1x6ut_68",M="_errorText_1x6ut_80",m={background:v,modalPageBox:$,closeButton:S,closeIcon:w,modalTitle:L,errorText:M},E=({isOpen:e,onClose:t,title:c,children:s})=>{const u=d.useRef(),[l,_]=d.useState(!1);return d.useEffect(()=>{_(e)},[e]),d.useEffect(()=>{const i=n=>{u.current.contains(n.target)||t()};return l?document.addEventListener("mousedown",i):document.removeEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[l,t]),l?o.jsx("div",{className:m.background,children:o.jsxs("div",{ref:u,className:m.modalPageBox,children:[o.jsx("button",{className:m.closeButton,onClick:t,children:o.jsx(h,{id:"icon-x-close",className:m.closeIcon,width:"18",height:"18"})}),o.jsx("h2",{className:m.modalTitle,children:c}),o.jsx("div",{className:m.content,children:s})]})}):null},R="_screenPageContainer_bv0lx_1",D={screenPageContainer:R},O="_headerDashboardContainer_1ud36_1",U="_boardTitle_1ud36_26",q="_filterTitle_1ud36_33",x={headerDashboardContainer:O,boardTitle:U,filterTitle:q},F=({boardTitle:e})=>o.jsxs("div",{className:x.headerDashboardContainer,children:[e&&o.jsx("h2",{className:x.boardTitle,children:e}),o.jsxs("p",{className:x.filterTitle,children:[o.jsx(h,{id:"icon-filter",width:"16",height:"16",className:x.filterIcon}),"Filters"]})]}),z="_background_xv2xo_1",H={background:z},K=({children:e})=>{const[t,c]=d.useState(!1),[s,u]=d.useState(null),l=p(g);return d.useEffect(()=>{(async()=>{if(!l)return;const{id:i}=l;try{c(!0);const{data:n}=await y(i);console.log(n);const r=document.documentElement;r.style.setProperty("--bg-mobile-1x",`url(${n.backgroundURL.mobile_1x})`),r.style.setProperty("--bg-mobile-2x",`url(${n.backgroundURL.mobile_2x})`),r.style.setProperty("--bg-tablet-1x",`url(${n.backgroundURL.tablet_1x})`),r.style.setProperty("--bg-tablet-2x",`url(${n.backgroundURL.tablet_2x})`),r.style.setProperty("--bg-desktop-1x",`url(${n.backgroundURL.desktop_1x})`),r.style.setProperty("--bg-desktop-2x",`url(${n.backgroundURL.desktop_2x})`)}catch(n){u(n.message)}finally{c(!1),u(null)}})()},[l]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:H.background,children:[t&&o.jsx(B,{centered:!0}),s&&o.jsx("p",{children:s}),e]})})},G="_addColumnButton_1qwlf_1",J="_icon_1qwlf_28",Q="_title_1qwlf_32",j={addColumnButton:G,icon:J,title:Q},V="_buttonAddColumn_pmdne_1",W="_buttonAddCommon_pmdne_20",X="_columnPlusButton_pmdne_38",Y="_commonPlusButton_pmdne_48",Z="_columnIcon_pmdne_58",oo="_commonIcon_pmdne_64",eo="_columnTitle_pmdne_70",to="_commonTitle_pmdne_77",a={buttonAddColumn:V,buttonAddCommon:W,columnPlusButton:X,commonPlusButton:Y,columnIcon:Z,commonIcon:oo,columnTitle:eo,commonTitle:to},C=({onClick:e,title:t,type:c,id:s})=>o.jsxs("button",{type:c,className:t==="Add another column"?a.buttonAddColumn:a.buttonAddCommon,onClick:e,children:[s&&o.jsx("div",{className:t==="Add another column"?a.columnPlusButton:a.commonPlusButton,children:o.jsx(h,{className:t==="Add another column"?a.columnIcon:a.commonIcon,id:s,width:"14",height:"14"})}),o.jsx("p",{className:t==="Add another column"?a.columnTitle:a.commonTitle,children:t})]}),no="_input_1lrzx_1",b={input:no},so=N().shape({title:k().required()}),co=({closeModal:e})=>{const t=T(),{id:c}=p(g),s=async i=>{const n={title:i.title,board:c},r=await t(P(n));r.type==="boards/addColumn/fulfilled"&&f.Notify.success("Column successful created"),r.error&&f.Notify.failure("Oops,something went wrong. Try again, please."),_()},{register:u,handleSubmit:l,reset:_}=I({resolver:A(so)});return o.jsxs("form",{className:b.form,onSubmit:l(s),children:[o.jsx("input",{className:b.input,placeholder:"Title",...u("title")}),o.jsx(C,{className:b.submitButton,type:"submit",onClick:e,title:"Add",id:"icon-plus"})]})},lo=()=>{const[e,t]=d.useState(!1),c=()=>{t(!e)},s=()=>{t(!1)};return o.jsxs(o.Fragment,{children:[o.jsx(C,{id:"icon-plus",type:"button",onClick:c,title:"Add another column",className:j.addColumnButton}),o.jsx(E,{isOpen:e,onClose:s,title:"Add column",className:j.addColumnModal,children:o.jsx(co,{closeModal:s})})]})},ro=()=>{const e=p(g);return o.jsx(o.Fragment,{children:o.jsx("div",{className:D.screenPageContainer,children:o.jsxs(K,{children:[o.jsx(F,{boardTitle:e.title}),o.jsx(lo,{})]})})})},ao=()=>o.jsx(ro,{}),mo=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"}));export{E as C,ao as S,mo as a};

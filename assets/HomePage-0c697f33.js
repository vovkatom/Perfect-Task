import{j as e,c as A,a as w,u as M,r,b as R,o as V,I as B,P as K,d as Y,n as $,e as G,s as J,f as L,g as Q,L as W,l as X}from"./index-7f2a3de1.js";import{C as Z}from"./Container-f8b73f31.js";import{I as x,s as z}from"./Icon-517cb664.js";import{C as H,a as ee,S as se}from"./ScreensPage-0edf6e98.js";const te="_burgerButton_1ff8g_1",oe="_burgerIcon_1ff8g_15",U={burgerButton:te,burgerIcon:oe},ne=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:U.burgerButton,type:"button",onClick:s,children:e.jsx(x,{id:"icon-menu",className:U.burgerIcon,width:"24",height:"24"})})}),ae="_headerMainContainer_1nuvp_1",le="_headerContainer_1nuvp_26",re="_customBox_1nuvp_51",ce="_user_1nuvp_58",ie="_userName_1nuvp_66",de="_avatar_1nuvp_81",p={headerMainContainer:ae,headerContainer:le,customBox:re,user:ce,userName:ie,avatar:de},me="_background_17xf8_1",ue="_modalPageBox_17xf8_15",pe="_close_17xf8_27",_e="_editProfileTitle_17xf8_36",he="_errorText_17xf8_124",j={background:me,modalPageBox:ue,close:pe,editProfileTitle:_e,errorText:he},xe=({isOpen:s,onClose:t,title:o,children:n})=>s?e.jsx("div",{className:j.background,children:e.jsxs("div",{className:j.modalPageBox,children:[e.jsx("span",{className:j.close,onClick:t,children:"Ã—"}),e.jsx("h2",{className:j.editProfileTitle,children:o}),e.jsx("div",{className:j.content,children:n})]})}):null,ge="_inputClassName_1l4tr_2",je="_plusIcon_1l4tr_25",be="_buttonSend_1l4tr_32",fe="_authControl_1l4tr_138",Ne="_profileForm_1l4tr_143",Ce="_avatar_1l4tr_150",ve="_buttonIconProfile_1l4tr_159",Ie="_buttonPlusProfile_1l4tr_172",m={inputClassName:ge,plusIcon:je,buttonSend:be,authControl:fe,profileForm:Ne,avatar:Ce,buttonIconProfile:ve,buttonPlusProfile:Ie},ke=A().shape({email:w().email().required(),password:w().required(),name:w().required()}),Pe=({user:s,onCloseModal:t})=>{var C,v,I;const o=M(),[n,l]=r.useState(null),{register:c,handleSubmit:g,formState:{errors:d}}=R({defaultValues:s,resolver:V(ke)}),u=i=>{const a=i.target.files[0];l(a)},T=async i=>{try{const a=new FormData;a.append("avatarURL",n),a.append("name",i.name),a.append("email",i.email),a.append("password",i.password),t(),await o(Y(a)),$.Notify.success("Profile updated successfully")}catch{return $.Notify.failure("Server error. Please try again.")}};return e.jsxs("form",{className:m.profileForm,onSubmit:g(T),children:[e.jsxs("div",{className:m.avatar,children:[e.jsx("img",{src:n?URL.createObjectURL(n):s.avatarURL,alt:"avatar"}),e.jsxs("div",{className:m.buttonIconProfile,children:[e.jsx("label",{htmlFor:"avatarInput",children:e.jsx("svg",{width:"24",height:"24",className:m.plusIcon,children:e.jsx("use",{xlinkHref:`${z}#icon-plus`})})}),e.jsx("input",{id:"avatarInput",type:"file",accept:"image/*",onChange:u,style:{display:"none"}})]})]}),e.jsx("input",{className:m.inputClassName,...c("name")}),e.jsx(B,{message:(C=d.name)==null?void 0:C.message}),e.jsx("input",{className:m.inputClassName,...c("email")}),e.jsx(B,{message:(v=d.email)==null?void 0:v.message}),e.jsx(K,{className:m.inputClassName,register:c,placeholder:"Current password"}),e.jsx(B,{message:(I=d.password)==null?void 0:I.message}),e.jsx("button",{className:m.buttonSend,type:"submit",children:"Send"})]})},Te="_background_1qqs1_1",we="_popUpBox_1qqs1_17",Be="_themeList_1qqs1_38",Le="_popUpBtn_1qqs1_44",k={background:Te,popUpBox:we,themeList:Be,popUpBtn:Le},Se="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ye=(s=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(s));for(;s--;)t+=Se[o[s]&63];return t};const qe=({children:s,onClick:t,listClassName:o,itemClassName:n})=>e.jsx("div",{className:k.background,children:e.jsx("div",{className:k.popUpBox,children:e.jsx("ul",{className:`${k.themeList} ${o} `,children:s==null?void 0:s.map((l,c)=>e.jsx("li",{id:ye(),className:n,children:e.jsx("button",{className:k.popUpBtn,onClick:()=>t(l),children:l})},c))})})}),S="theme",b="light",f="dark",N="violet",Me=()=>{const s=document.querySelector("body");document.querySelector(".themeChangeList").addEventListener("click",o=>{o.preventDefault();const{textContent:n}=o.target,l=n.trim().toLowerCase();switch(console.log(l),console.log(s),l){case b:localStorage.setItem(S,b),s.classList.add(b),s.classList.remove(f),s.classList.remove(N);break;case f:localStorage.setItem(S,f),s.classList.add(f),s.classList.remove(b),s.classList.remove(N);break;case N:localStorage.setItem(S,N),s.classList.add(N),s.classList.remove(b),s.classList.remove(f);break}})},$e=({onClick:s})=>(r.useEffect(()=>{Me()},[]),e.jsx(qe,{onClick:s,listClassName:"themeChangeList",itemClassName:"themeChangeItem",children:["Light","Dark","Violet"]})),Ue="_themeBtn_ik5it_1",Oe="_themeIcon_ik5it_30",O={themeBtn:Ue,themeIcon:Oe},Fe=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsxs("button",{className:O.themeBtn,type:"button",onClick:s,children:["Theme",e.jsx(x,{id:"chevron-down",className:O.themeIcon,width:"10",height:"7"})]})}),He=({toggleSidebar:s})=>{const t=G(J),[o,n]=r.useState(!1),[l,c]=r.useState(!1),g=()=>{n(!0)},d=()=>{n(!1)},u=()=>{c(!l)};return e.jsxs("div",{className:p.headerMainContainer,children:[e.jsxs("header",{className:p.headerContainer,children:[e.jsx(ne,{onClick:s}),e.jsxs("div",{className:p.customBox,children:[e.jsx(Fe,{onClick:u}),e.jsxs("div",{className:p.user,onClick:g,children:[e.jsx("p",{className:p.userName,children:t==null?void 0:t.name}),e.jsx("div",{className:p.avatar,children:e.jsx("img",{src:`${t==null?void 0:t.avatarURL}`,alt:"User avatar"})})]})]})]}),e.jsx($e,{onClick:u}),e.jsxs(xe,{isOpen:o,onClose:d,title:"Edit profile",children:[e.jsx(Pe,{user:t,onCloseModal:d})," "]})]})},Ee="_container_151v0_1",De="_sidebar_151v0_11",Ae="_myBoardsTitle_151v0_30",y={container:Ee,sidebar:De,myBoardsTitle:Ae},Re="_logo_1u7oy_1",Ve="_logoIcon_1u7oy_8",Ke="_logoTitle_1u7oy_22",q={logo:Re,logoIcon:Ve,logoTitle:Ke},Ye=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:q.logo,children:[e.jsx(x,{className:q.logoIcon,id:"icon-logo2",width:"32",height:"32"}),e.jsx("p",{className:q.logoTitle,children:"Perfect Task"})]})}),Ge="_button_rp9xq_1",Je="_buttonTitle_rp9xq_21",Qe="_buttonPlus_rp9xq_29",We="_iconPlus_rp9xq_39",P={button:Ge,buttonTitle:Je,buttonPlus:Qe,iconPlus:We},Xe=()=>{const[s,t]=r.useState(!1),o=()=>{t(!0)},n=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:P.button,type:"button",onClick:o,children:[e.jsx("p",{className:P.buttonTitle,children:"Create a new board"}),e.jsx("div",{className:P.buttonPlus,children:e.jsx(x,{id:"icon-plus",className:P.iconPlus,width:"20",height:"20"})})]}),e.jsx(H,{isOpen:s,onClose:n,children:e.jsx(ee,{})})]})},Ze="_modalInput_9fd9x_8",ze="_modalControl_9fd9x_20",es="_modalControlText_9fd9x_27",ss="_modalButton_9fd9x_34",_={modalInput:Ze,modalControl:ze,modalControlText:es,modalButton:ss},F={email:"",message:""},ts=()=>{const[s,t]=r.useState({...F}),o=M(),n=i=>{const{name:a,value:E}=i.target;t(D=>({...D,[a]:E}))},l=i=>{i.preventDefault();try{o(Q(s)),c()}catch(a){console.log(a.response.data.message)}},c=()=>{t({...F})},g=r.useId(),d=r.useId(),{email:u,message:T}=s,C=L(_.modalInput,_.modalControl),v=L(_.modalInput,_.modalControlText),I=L(_.modalButton,_.modalControl);return e.jsx("div",{children:e.jsxs("form",{onSubmit:l,children:[e.jsx("div",{children:e.jsx("input",{className:C,type:"email",id:g,name:"email",value:u,onChange:n,placeholder:"Email address",required:!0})}),e.jsx("div",{children:e.jsx("textarea",{className:v,id:d,name:"message",value:T,onChange:n,rows:"4",placeholder:"Comment",required:!0})}),e.jsx("button",{className:I,type:"submit",children:"Send"})]})})},os="_container_79wtw_1",ns="_image_79wtw_15",as="_infoText_79wtw_23",ls="_perfectTask_79wtw_32",rs="_question_79wtw_36",cs="_needHelpLink_79wtw_43",is="_iconHelp_79wtw_53",h={container:os,image:ns,infoText:as,perfectTask:ls,question:rs,needHelpLink:cs,iconHelp:is},ds=()=>{const[s,t]=r.useState(!1),o=()=>{t(!0)},n=()=>{t(!1)};return e.jsxs("div",{className:h.container,children:[e.jsx("svg",{className:h.image}),e.jsxs("p",{className:h.infoText,children:["If you need help with"," ",e.jsx("span",{className:h.perfectTask,children:"Perfect Task"}),", check out our support resources or reach out to our customer support team."]}),e.jsxs(W,{className:h.needHelpLink,onClick:o,children:[e.jsx(x,{id:"icon-help-circle",className:h.iconHelp,width:"20",height:"20"}),"Need help?"]}),e.jsx(H,{isOpen:s,onClose:n,title:"Need help",children:e.jsx(ts,{})})]})},ms="_btn_logout_18dqq_1",us={btn_logout:ms},ps=()=>{const s=M(),t=()=>s(X());return e.jsx("div",{children:e.jsxs("button",{className:us.btn_logout,onClick:t,type:"button",children:[e.jsx(x,{id:"logout",width:"32",height:"32",className:""}),"Log Out"]})})},_s=()=>e.jsxs("div",{className:`${y.container} ${y.sidebar}`,children:[e.jsx(Ye,{}),e.jsx("h3",{className:y.myBoardsTitle,children:"My boards"}),e.jsx(Xe,{}),e.jsx(ds,{}),e.jsx(ps,{})]}),hs="_background_stxq7_1",xs={background:hs},Ns=()=>{const[s,t]=r.useState(!1),o=()=>{t(!s)};return e.jsxs(e.Fragment,{children:[e.jsx(He,{toggleSidebar:o}),e.jsxs("div",{className:xs.background,children:[s&&e.jsx(_s,{}),e.jsx(Z,{className:"home-page",children:e.jsx(se,{})})]})]})};export{Ns as default};

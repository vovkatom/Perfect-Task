import{j as e,c as R,a as y,u as w,r as c,b as V,o as K,I as L,P as Y,d as G,n as $,e as U,s as J,f as Q,g as W,h as B,i as X,L as Z,l as z,k as ee}from"./index-f5984877.js";import{C as se}from"./Container-bd86eb2a.js";import{I as j,s as te}from"./Icon-12e10bcb.js";import{C as E,a as oe,S as ae}from"./ScreensPage-639ca769.js";const ne="_burgerButton_1l6xo_1",le="_burgerIcon_1l6xo_15",O={burgerButton:ne,burgerIcon:le},re=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:O.burgerButton,type:"button",onClick:s,children:e.jsx(j,{id:"icon-menu",className:O.burgerIcon,width:"24",height:"24"})})}),ce="_headerMainContainer_eqfuf_1",ie="_headerContainer_eqfuf_26",de="_customBox_eqfuf_51",me="_user_eqfuf_58",ue="_userName_eqfuf_66",pe="_avatar_eqfuf_84",h={headerMainContainer:ce,headerContainer:ie,customBox:de,user:me,userName:ue,avatar:pe},_e="_background_17xf8_1",he="_modalPageBox_17xf8_15",xe="_close_17xf8_27",ge="_editProfileTitle_17xf8_36",je="_errorText_17xf8_124",b={background:_e,modalPageBox:he,close:xe,editProfileTitle:ge,errorText:je},be=({isOpen:s,onClose:t,title:o,children:a})=>s?e.jsx("div",{className:b.background,children:e.jsxs("div",{className:b.modalPageBox,children:[e.jsx("span",{className:b.close,onClick:t,children:"Ã—"}),e.jsx("h2",{className:b.editProfileTitle,children:o}),e.jsx("div",{className:b.content,children:a})]})}):null,fe="_inputClassName_1l4tr_2",Ne="_plusIcon_1l4tr_25",Ce="_buttonSend_1l4tr_32",ve="_authControl_1l4tr_138",Ie="_profileForm_1l4tr_143",ke="_avatar_1l4tr_150",Pe="_buttonIconProfile_1l4tr_159",Te="_buttonPlusProfile_1l4tr_172",d={inputClassName:fe,plusIcon:Ne,buttonSend:Ce,authControl:ve,profileForm:Ie,avatar:ke,buttonIconProfile:Pe,buttonPlusProfile:Te},we=R().shape({email:y().email().required(),password:y().required(),name:y().required()}),ye=({user:s,onCloseModal:t})=>{var v,I,k;const o=w(),[a,n]=c.useState(null),{register:l,handleSubmit:m,formState:{errors:u}}=V({defaultValues:s,resolver:K(we)}),p=i=>{const r=i.target.files[0];n(r)},_=async i=>{try{const r=new FormData;r.append("avatarURL",a),r.append("name",i.name),r.append("email",i.email),r.append("password",i.password),t(),await o(G(r)),$.Notify.success("Profile updated successfully")}catch{return $.Notify.failure("Server error. Please try again.")}};return e.jsxs("form",{className:d.profileForm,onSubmit:m(_),children:[e.jsxs("div",{className:d.avatar,children:[e.jsx("img",{src:a?URL.createObjectURL(a):s.avatarURL,alt:"avatar"}),e.jsxs("div",{className:d.buttonIconProfile,children:[e.jsx("label",{htmlFor:"avatarInput",children:e.jsx("svg",{width:"24",height:"24",className:d.plusIcon,children:e.jsx("use",{xlinkHref:`${te}#icon-plus`})})}),e.jsx("input",{id:"avatarInput",type:"file",accept:"image/*",onChange:p,style:{display:"none"}})]})]}),e.jsx("input",{className:d.inputClassName,...l("name")}),e.jsx(L,{message:(v=u.name)==null?void 0:v.message}),e.jsx("input",{className:d.inputClassName,...l("email")}),e.jsx(L,{message:(I=u.email)==null?void 0:I.message}),e.jsx(Y,{className:d.inputClassName,register:l,placeholder:"Current password"}),e.jsx(L,{message:(k=u.password)==null?void 0:k.message}),e.jsx("button",{className:d.buttonSend,type:"submit",children:"Send"})]})},Le="_background_1bogy_1",Be="_popUpBox_1bogy_17",Se="_themeList_1bogy_38",qe="_popUpBtn_1bogy_44",P={background:Le,popUpBox:Be,themeList:Se,popUpBtn:qe},Me="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let $e=(s=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(s));for(;s--;)t+=Me[o[s]&63];return t};const Ue=({children:s,onClick:t,listClassName:o,itemClassName:a})=>e.jsx("div",{className:P.background,children:e.jsx("div",{className:P.popUpBox,children:e.jsx("ul",{className:`${P.themeList} ${o} `,children:s==null?void 0:s.map((n,l)=>e.jsx("li",{id:$e(),className:a,children:e.jsx("button",{className:P.popUpBtn,onClick:()=>t(n),children:n})},l))})})}),S="theme",f="light",N="dark",C="violet",Oe=()=>{const s=document.querySelector("body");document.querySelector(".themeChangeList").addEventListener("click",o=>{o.preventDefault();const{textContent:a}=o.target,n=a.trim().toLowerCase();switch(console.log(n),console.log(s),n){case f:localStorage.setItem(S,f),s.classList.add(f),s.classList.remove(N),s.classList.remove(C);break;case N:localStorage.setItem(S,N),s.classList.add(N),s.classList.remove(f),s.classList.remove(C);break;case C:localStorage.setItem(S,C),s.classList.add(C),s.classList.remove(f),s.classList.remove(N);break}})},Fe=({onClick:s})=>(c.useEffect(()=>{Oe()},[]),e.jsx(Ue,{onClick:s,listClassName:"themeChangeList",itemClassName:"themeChangeItem",children:["Light","Dark","Violet"]})),He="_themeBtn_1njqs_1",Ee="_themeIcon_1njqs_31",F={themeBtn:He,themeIcon:Ee},Ae=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsxs("button",{className:F.themeBtn,type:"button",onClick:s,children:["Theme",e.jsx(j,{id:"chevron-down",className:F.themeIcon,width:"10",height:"7"})]})}),De=({toggleSidebar:s})=>{const t=U(J),o=U(Q),[a,n]=c.useState(!1),[l,m]=c.useState(!1),u=()=>{n(!0)},p=()=>{n(!1)},_=()=>{m(!l)};return e.jsxs("div",{className:h.headerMainContainer,children:[e.jsxs("header",{className:h.headerContainer,children:[e.jsx(re,{onClick:s}),e.jsxs("div",{className:h.customBox,children:[e.jsx(Ae,{onClick:_}),e.jsxs("div",{className:h.user,onClick:u,children:[e.jsx("p",{className:h.userName,children:t==null?void 0:t.name}),e.jsx("div",{className:h.avatar,children:o?e.jsx(W,{}):e.jsx("img",{src:`${t==null?void 0:t.avatarURL}`,alt:"User avatar"})})]})]})]}),l&&e.jsx(Fe,{onClick:_}),e.jsxs(be,{isOpen:a,onClose:p,title:"Edit profile",children:[e.jsx(ye,{user:t,onCloseModal:p})," "]})]})},Re="_container_151v0_1",Ve="_sidebar_151v0_11",Ke="_myBoardsTitle_151v0_30",q={container:Re,sidebar:Ve,myBoardsTitle:Ke},Ye="_logo_1u7oy_1",Ge="_logoIcon_1u7oy_8",Je="_logoTitle_1u7oy_22",M={logo:Ye,logoIcon:Ge,logoTitle:Je},Qe=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:M.logo,children:[e.jsx(j,{className:M.logoIcon,id:"icon-logo2",width:"32",height:"32"}),e.jsx("p",{className:M.logoTitle,children:"Perfect Task"})]})}),We="_button_rp9xq_1",Xe="_buttonTitle_rp9xq_21",Ze="_buttonPlus_rp9xq_29",ze="_iconPlus_rp9xq_39",T={button:We,buttonTitle:Xe,buttonPlus:Ze,iconPlus:ze},es=()=>{const[s,t]=c.useState(!1),o=()=>{t(!0)},a=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:T.button,type:"button",onClick:o,children:[e.jsx("p",{className:T.buttonTitle,children:"Create a new board"}),e.jsx("div",{className:T.buttonPlus,children:e.jsx(j,{id:"icon-plus",className:T.iconPlus,width:"20",height:"20"})})]}),e.jsx(E,{isOpen:s,onClose:a,children:e.jsx(oe,{closeModal:a})})]})},ss="_modalInput_9fd9x_8",ts="_modalControl_9fd9x_20",os="_modalControlText_9fd9x_27",as="_modalButton_9fd9x_34",x={modalInput:ss,modalControl:ts,modalControlText:os,modalButton:as},H={email:"",message:""},ns=()=>{const[s,t]=c.useState({...H}),o=w(),a=i=>{const{name:r,value:A}=i.target;t(D=>({...D,[r]:A}))},n=i=>{i.preventDefault();try{o(X(s)),l()}catch(r){console.log(r.response.data.message)}},l=()=>{t({...H})},m=c.useId(),u=c.useId(),{email:p,message:_}=s,v=B(x.modalInput,x.modalControl),I=B(x.modalInput,x.modalControlText),k=B(x.modalButton,x.modalControl);return e.jsx("div",{children:e.jsxs("form",{onSubmit:n,children:[e.jsx("div",{children:e.jsx("input",{className:v,type:"email",id:m,name:"email",value:p,onChange:a,placeholder:"Email address",required:!0})}),e.jsx("div",{children:e.jsx("textarea",{className:I,id:u,name:"message",value:_,onChange:a,rows:"4",placeholder:"Comment",required:!0})}),e.jsx("button",{className:k,type:"submit",children:"Send"})]})})},ls="_container_79wtw_1",rs="_image_79wtw_15",cs="_infoText_79wtw_23",is="_perfectTask_79wtw_32",ds="_question_79wtw_36",ms="_needHelpLink_79wtw_43",us="_iconHelp_79wtw_53",g={container:ls,image:rs,infoText:cs,perfectTask:is,question:ds,needHelpLink:ms,iconHelp:us},ps=()=>{const[s,t]=c.useState(!1),o=()=>{t(!0)},a=()=>{t(!1)};return e.jsxs("div",{className:g.container,children:[e.jsx("svg",{className:g.image}),e.jsxs("p",{className:g.infoText,children:["If you need help with"," ",e.jsx("span",{className:g.perfectTask,children:"Perfect Task"}),", check out our support resources or reach out to our customer support team."]}),e.jsxs(Z,{className:g.needHelpLink,onClick:o,children:[e.jsx(j,{id:"icon-help-circle",className:g.iconHelp,width:"20",height:"20"}),"Need help?"]}),e.jsx(E,{isOpen:s,onClose:a,title:"Need help",children:e.jsx(ns,{})})]})},_s="_btn_logout_18dqq_1",hs={btn_logout:_s},xs=()=>{const s=w(),t=()=>s(z());return e.jsx("div",{children:e.jsxs("button",{className:hs.btn_logout,onClick:t,type:"button",children:[e.jsx(j,{id:"logout",width:"32",height:"32",className:""}),"Log Out"]})})},gs=()=>e.jsxs("div",{className:`${q.container} ${q.sidebar}`,children:[e.jsx(Qe,{}),e.jsx("h3",{className:q.myBoardsTitle,children:"My boards"}),e.jsx(es,{}),e.jsx(ps,{}),e.jsx(xs,{})]}),js="_background_lg9e8_1",bs={background:js},Is=()=>{const[s,t]=c.useState(!1),o=window.location.search,n=new URLSearchParams(o).get("token"),l=w();n&&l(ee(n));const m=()=>{t(!s)};return e.jsxs(e.Fragment,{children:[e.jsx(De,{toggleSidebar:m}),e.jsxs("div",{className:bs.background,children:[s&&e.jsx(gs,{}),e.jsx(se,{className:"home-page",children:e.jsx(ae,{})})]})]})};export{Is as default};

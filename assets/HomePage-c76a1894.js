import{j as e,c as z,a as L,u as I,r,b as V,o as K,I as y,P as Y,d as G,n as O,e as q,s as J,f as Q,g as W,h as S,i as X,L as Z,l as ee,k as se,m as te}from"./index-ac5c1273.js";import{C as oe}from"./Container-9a66380d.js";import{I as d,s as ae}from"./Icon-d2f68ecb.js";import{C as A,a as ne,u as ce,S as le}from"./ScreensPage-96da5340.js";const re="_burgerButton_1l6xo_1",ie="_burgerIcon_1l6xo_15",F={burgerButton:re,burgerIcon:ie},de=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:F.burgerButton,type:"button",onClick:s,children:e.jsx(d,{id:"icon-menu",className:F.burgerIcon,width:"24",height:"24"})})}),me="_headerMainContainer_gaapz_1",ue="_headerContainer_gaapz_26",pe="_customBox_gaapz_51",_e="_user_gaapz_58",he="_userName_gaapz_66",xe="_avatar_gaapz_84",ge="_avatarImg_gaapz_98",_={headerMainContainer:me,headerContainer:ue,customBox:pe,user:_e,userName:he,avatar:xe,avatarImg:ge},be="_background_17xf8_1",je="_modalPageBox_17xf8_15",Ne="_close_17xf8_27",fe="_editProfileTitle_17xf8_36",Ce="_errorText_17xf8_124",N={background:be,modalPageBox:je,close:Ne,editProfileTitle:fe,errorText:Ce},ve=({isOpen:s,onClose:t,title:o,children:a})=>s?e.jsx("div",{className:N.background,children:e.jsxs("div",{className:N.modalPageBox,children:[e.jsx("span",{className:N.close,onClick:t,children:"Ã—"}),e.jsx("h2",{className:N.editProfileTitle,children:o}),e.jsx("div",{className:N.content,children:a})]})}):null,Ie="_inputClassName_1l4tr_2",ke="_plusIcon_1l4tr_25",we="_buttonSend_1l4tr_32",Be="_authControl_1l4tr_138",Pe="_profileForm_1l4tr_143",Te="_avatar_1l4tr_150",Le="_buttonIconProfile_1l4tr_159",ye="_buttonPlusProfile_1l4tr_172",m={inputClassName:Ie,plusIcon:ke,buttonSend:we,authControl:Be,profileForm:Pe,avatar:Te,buttonIconProfile:Le,buttonPlusProfile:ye},Se=z().shape({email:L().email().required(),password:L().required(),name:L().required()}),Me=({user:s,onCloseModal:t})=>{var k,w,B;const o=I(),[a,n]=r.useState(null),{register:c,handleSubmit:u,formState:{errors:p}}=V({defaultValues:s,resolver:K(Se)}),x=i=>{const l=i.target.files[0];n(l)},g=async i=>{try{const l=new FormData;l.append("avatarURL",a),l.append("name",i.name),l.append("email",i.email),l.append("password",i.password),t(),await o(G(l)),O.Notify.success("Profile updated successfully")}catch{return O.Notify.failure("Server error. Please try again.")}};return e.jsxs("form",{className:m.profileForm,onSubmit:u(g),children:[e.jsxs("div",{className:m.avatar,children:[e.jsx("img",{src:a?URL.createObjectURL(a):s.avatarURL,alt:"avatar"}),e.jsxs("div",{className:m.buttonIconProfile,children:[e.jsx("label",{htmlFor:"avatarInput",children:e.jsx("svg",{width:"24",height:"24",className:m.plusIcon,children:e.jsx("use",{xlinkHref:`${ae}#icon-plus`})})}),e.jsx("input",{id:"avatarInput",type:"file",accept:"image/*",onChange:x,style:{display:"none"}})]})]}),e.jsx("input",{className:m.inputClassName,...c("name")}),e.jsx(y,{message:(k=p.name)==null?void 0:k.message}),e.jsx("input",{className:m.inputClassName,...c("email")}),e.jsx(y,{message:(w=p.email)==null?void 0:w.message}),e.jsx(Y,{className:m.inputClassName,register:c,placeholder:"Current password"}),e.jsx(y,{message:(B=p.password)==null?void 0:B.message}),e.jsx("button",{className:m.buttonSend,type:"submit",children:"Send"})]})},$e="_background_m8621_1",Ue="_popUpBox_m8621_17",qe="_themeList_m8621_38",Oe="_popUpBtn_m8621_44",P={background:$e,popUpBox:Ue,themeList:qe,popUpBtn:Oe},Fe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let He=(s=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(s));for(;s--;)t+=Fe[o[s]&63];return t};const Ee=({children:s,onClick:t,listClassName:o,itemClassName:a})=>e.jsx("div",{className:P.background,children:e.jsx("div",{className:P.popUpBox,children:e.jsx("ul",{className:`${P.themeList} ${o} `,children:s==null?void 0:s.map((n,c)=>e.jsx("li",{id:He(),className:a,children:e.jsx("button",{className:P.popUpBtn,onClick:()=>t(n),children:n})},c))})})}),M="theme",f="light",C="dark",v="violet",Ae=()=>{const s=document.querySelector("body");document.querySelector(".themeChangeList").addEventListener("click",o=>{o.preventDefault();const{textContent:a}=o.target,n=a.trim().toLowerCase();switch(console.log(n),console.log(s),n){case f:localStorage.setItem(M,f),s.classList.add(f),s.classList.remove(C),s.classList.remove(v);break;case C:localStorage.setItem(M,C),s.classList.add(C),s.classList.remove(f),s.classList.remove(v);break;case v:localStorage.setItem(M,v),s.classList.add(v),s.classList.remove(f),s.classList.remove(C);break}})},De=({onClick:s})=>(r.useEffect(()=>{Ae()},[]),e.jsx(Ee,{onClick:s,listClassName:"themeChangeList",itemClassName:"themeChangeItem",children:["Light","Dark","Violet"]})),Re="_themeBtn_1njqs_1",ze="_themeIcon_1njqs_31",H={themeBtn:Re,themeIcon:ze},Ve=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsxs("button",{className:H.themeBtn,type:"button",onClick:s,children:["Theme",e.jsx(d,{id:"chevron-down",className:H.themeIcon,width:"10",height:"7"})]})}),Ke=({toggleSidebar:s})=>{const t=q(J),o=q(Q),[a,n]=r.useState(!1),[c,u]=r.useState(!1),p=()=>{n(!0)},x=()=>{n(!1)},g=()=>{u(!c)};return e.jsxs("div",{className:_.headerMainContainer,children:[e.jsxs("header",{className:_.headerContainer,children:[e.jsx(de,{onClick:s}),e.jsxs("div",{className:_.customBox,children:[e.jsx(Ve,{onClick:g}),e.jsxs("div",{className:_.user,onClick:p,children:[e.jsx("p",{className:_.userName,children:t==null?void 0:t.name}),e.jsx("div",{className:_.avatar,children:o?e.jsx(W,{}):e.jsx("img",{className:_.avatarImg,src:`${t==null?void 0:t.avatarURL}`,alt:"User avatar"})})]})]})]}),c&&e.jsx(De,{onClick:g}),e.jsxs(ve,{isOpen:a,onClose:x,title:"Edit profile",children:[e.jsx(Me,{user:t,onCloseModal:x})," "]})]})},Ye="_container_151v0_1",Ge="_sidebar_151v0_11",Je="_myBoardsTitle_151v0_30",$={container:Ye,sidebar:Ge,myBoardsTitle:Je},Qe="_logo_1u7oy_1",We="_logoIcon_1u7oy_8",Xe="_logoTitle_1u7oy_22",U={logo:Qe,logoIcon:We,logoTitle:Xe},Ze=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:U.logo,children:[e.jsx(d,{className:U.logoIcon,id:"icon-logo2",width:"32",height:"32"}),e.jsx("p",{className:U.logoTitle,children:"Perfect Task"})]})}),es="_button_rp9xq_1",ss="_buttonTitle_rp9xq_21",ts="_buttonPlus_rp9xq_29",os="_iconPlus_rp9xq_39",T={button:es,buttonTitle:ss,buttonPlus:ts,iconPlus:os},as=()=>{const[s,t]=r.useState(!1),o=()=>{t(!0)},a=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:T.button,type:"button",onClick:o,children:[e.jsx("p",{className:T.buttonTitle,children:"Create a new board"}),e.jsx("div",{className:T.buttonPlus,children:e.jsx(d,{id:"icon-plus",className:T.iconPlus,width:"20",height:"20"})})]}),e.jsx(A,{isOpen:s,onClose:a,children:e.jsx(ne,{closeModal:a})})]})},ns="_modalInput_9fd9x_8",cs="_modalControl_9fd9x_20",ls="_modalControlText_9fd9x_27",rs="_modalButton_9fd9x_34",b={modalInput:ns,modalControl:cs,modalControlText:ls,modalButton:rs},E={email:"",message:""},is=()=>{const[s,t]=r.useState({...E}),o=I(),a=i=>{const{name:l,value:D}=i.target;t(R=>({...R,[l]:D}))},n=i=>{i.preventDefault();try{o(X(s)),c()}catch(l){console.log(l.response.data.message)}},c=()=>{t({...E})},u=r.useId(),p=r.useId(),{email:x,message:g}=s,k=S(b.modalInput,b.modalControl),w=S(b.modalInput,b.modalControlText),B=S(b.modalButton,b.modalControl);return e.jsx("div",{children:e.jsxs("form",{onSubmit:n,children:[e.jsx("div",{children:e.jsx("input",{className:k,type:"email",id:u,name:"email",value:x,onChange:a,placeholder:"Email address",required:!0})}),e.jsx("div",{children:e.jsx("textarea",{className:w,id:p,name:"message",value:g,onChange:a,rows:"4",placeholder:"Comment",required:!0})}),e.jsx("button",{className:B,type:"submit",children:"Send"})]})})},ds="_container_79wtw_1",ms="_image_79wtw_15",us="_infoText_79wtw_23",ps="_perfectTask_79wtw_32",_s="_question_79wtw_36",hs="_needHelpLink_79wtw_43",xs="_iconHelp_79wtw_53",j={container:ds,image:ms,infoText:us,perfectTask:ps,question:_s,needHelpLink:hs,iconHelp:xs},gs=()=>{const[s,t]=r.useState(!1),o=()=>{t(!0)},a=()=>{t(!1)};return e.jsxs("div",{className:j.container,children:[e.jsx("svg",{className:j.image}),e.jsxs("p",{className:j.infoText,children:["If you need help with"," ",e.jsx("span",{className:j.perfectTask,children:"Perfect Task"}),", check out our support resources or reach out to our customer support team."]}),e.jsxs(Z,{className:j.needHelpLink,onClick:o,children:[e.jsx(d,{id:"icon-help-circle",className:j.iconHelp,width:"20",height:"20"}),"Need help?"]}),e.jsx(A,{isOpen:s,onClose:a,title:"Need help",children:e.jsx(is,{})})]})},bs="_btn_logout_18dqq_1",js={btn_logout:bs},Ns=()=>{const s=I(),t=()=>s(ee());return e.jsx("div",{children:e.jsxs("button",{className:js.btn_logout,onClick:t,type:"button",children:[e.jsx(d,{id:"logout",width:"32",height:"32",className:""}),"Log Out"]})})},fs="_boardContainer_1078t_1",Cs="_box1_1078t_9",vs="_box2_1078t_14",Is="_icon_1078t_18",h={boardContainer:fs,box1:Cs,box2:vs,icon:Is},ks=s=>s.boards.items,ws=()=>{const t=q(ks).map(({title:a,icon:n,id:c})=>e.jsxs("li",{className:h.boardContainer,children:[e.jsxs("div",{className:h.box1,children:[e.jsx(d,{className:h.icon,id:n,width:"18",height:"18"}),e.jsx("p",{children:a})]}),e.jsxs("div",{children:[e.jsx("button",{type:"button",className:h.updateButton,onClick:()=>o(ce(c)),children:e.jsx(d,{className:h.icon,id:"icon-pencil-01",width:"16",height:"16"})}),e.jsx("button",{type:"button",className:h.deleteButton,onClick:()=>o(se(c)),children:e.jsx(d,{className:h.icon,id:"icon-trash-04",width:"16",height:"16"})})]})]},a)),o=I();return e.jsx("ul",{children:t})},Bs=()=>e.jsxs("div",{className:`${$.container} ${$.sidebar}`,children:[e.jsx(Ze,{}),e.jsx("h3",{className:$.myBoardsTitle,children:"My boards"}),e.jsx(as,{}),e.jsx(ws,{}),e.jsx(gs,{}),e.jsx(Ns,{})]}),Ps="_background_lg9e8_1",Ts={background:Ps},$s=()=>{const[s,t]=r.useState(!1),o=window.location.search,n=new URLSearchParams(o).get("token"),c=I();n&&c(te(n));const u=()=>{t(!s)};return e.jsxs(e.Fragment,{children:[e.jsx(Ke,{toggleSidebar:u}),e.jsxs("div",{className:Ts.background,children:[s&&e.jsx(Bs,{}),e.jsx(oe,{className:"home-page",children:e.jsx(le,{})})]})]})};export{$s as default};

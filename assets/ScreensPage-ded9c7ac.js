import{r as d,j as o,I as h,u as f,L as T,t as P,a as y,z as k,n as p}from"./index-531bb631.js";import{d as g,c as N,a as I,u as v,o as A}from"./userBoard-selectors-09c504f1.js";const $="_background_1x6ut_1",M="_modalPageBox_1x6ut_16",S="_closeButton_1x6ut_37",w="_closeIcon_1x6ut_53",L="_modalTitle_1x6ut_68",E="_errorText_1x6ut_80",m={background:$,modalPageBox:M,closeButton:S,closeIcon:w,modalTitle:L,errorText:E},R=({isOpen:e,onClose:t,title:c,children:s})=>{const u=d.useRef(),[r,x]=d.useState(!1);return d.useEffect(()=>{x(e)},[e]),d.useEffect(()=>{const i=n=>{u.current.contains(n.target)||t()};return r?document.addEventListener("mousedown",i):document.removeEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[r,t]),r?o.jsx("div",{className:m.background,children:o.jsxs("div",{ref:u,className:m.modalPageBox,children:[o.jsx("button",{className:m.closeButton,onClick:t,children:o.jsx(h,{id:"icon-x-close",className:m.closeIcon,width:"18",height:"18"})}),o.jsx("h2",{className:m.modalTitle,children:c}),o.jsx("div",{className:m.content,children:s})]})}):null},D="_screenPageContainer_10s2k_1",O={screenPageContainer:D},U="_headerDashboardContainer_13x5x_1",F="_boardTitle_13x5x_23",q="_boardTitlePlaceholder_13x5x_36",z="_filterTitle_13x5x_41",H="_filterIcon_13x5x_51",_={headerDashboardContainer:U,boardTitle:F,boardTitlePlaceholder:q,filterTitle:z,filterIcon:H},K=({boardTitle:e})=>o.jsxs("div",{className:_.headerDashboardContainer,children:[e?o.jsx("h2",{className:_.boardTitle,children:e}):o.jsx("div",{className:_.boardTitlePlaceholder}),o.jsxs("p",{className:_.filterTitle,children:[o.jsx(h,{id:"icon-filter",width:"16",height:"16",className:_.filterIcon}),"Filters"]})]}),G="_background_1nwns_1",J="_screenMainContainer_1nwns_46",C={background:G,screenMainContainer:J},Q=({children:e})=>{const[t,c]=d.useState(!1),[s,u]=d.useState(null),r=f(g);return d.useEffect(()=>{(async()=>{if(!r)return;const{id:i}=r;try{c(!0);const{data:n}=await P(i);console.log(n);const l=document.documentElement;l.style.setProperty("--bg-mobile-1x",`url(${n.backgroundURL.mobile_1x})`),l.style.setProperty("--bg-mobile-2x",`url(${n.backgroundURL.mobile_2x})`),l.style.setProperty("--bg-tablet-1x",`url(${n.backgroundURL.tablet_1x})`),l.style.setProperty("--bg-tablet-2x",`url(${n.backgroundURL.tablet_2x})`),l.style.setProperty("--bg-desktop-1x",`url(${n.backgroundURL.desktop_1x})`),l.style.setProperty("--bg-desktop-2x",`url(${n.backgroundURL.desktop_2x})`)}catch(n){u(n.message)}finally{c(!1),u(null)}})()},[r]),o.jsx(o.Fragment,{children:o.jsx("div",{className:C.background,children:o.jsxs("div",{className:`container ${C.screenMainContainer}`,children:[t&&o.jsx(T,{centered:!0}),s&&o.jsx("p",{children:s}),e]})})})},V="_addColumnButton_1vksl_1",W="_icon_1vksl_27",X="_title_1vksl_31",j={addColumnButton:V,icon:W,title:X},Y="_buttonAddColumn_o994u_1",Z="_buttonAddCommon_o994u_26",oo="_columnPlusButton_o994u_44",eo="_commonPlusButton_o994u_54",to="_columnIcon_o994u_64",no="_commonIcon_o994u_70",so="_columnTitle_o994u_76",co="_commonTitle_o994u_83",a={buttonAddColumn:Y,buttonAddCommon:Z,columnPlusButton:oo,commonPlusButton:eo,columnIcon:to,commonIcon:no,columnTitle:so,commonTitle:co},B=({onClick:e,title:t,type:c,id:s})=>o.jsxs("button",{type:c,className:t==="Add another column"?a.buttonAddColumn:a.buttonAddCommon,onClick:e,children:[s&&o.jsx("div",{className:t==="Add another column"?a.columnPlusButton:a.commonPlusButton,children:o.jsx(h,{className:t==="Add another column"?a.columnIcon:a.commonIcon,id:s,width:"14",height:"14"})}),o.jsx("p",{className:t==="Add another column"?a.columnTitle:a.commonTitle,children:t})]}),ro="_form_5pbfd_1",lo="_input_5pbfd_5",b={form:ro,input:lo},ao=N().shape({title:I().required()}),uo=({closeModal:e})=>{const t=y(),{id:c}=f(g),s=async i=>{const n={title:i.title,board:c},l=await t(k(n));l.type==="boards/addColumn/fulfilled"&&p.Notify.success("Column successful created"),l.error&&p.Notify.failure("Oops,something went wrong. Try again, please."),x()},{register:u,handleSubmit:r,reset:x}=v({resolver:A(ao)});return o.jsxs("form",{className:b.form,onSubmit:r(s),children:[o.jsx("input",{className:b.input,placeholder:"Title",...u("title")}),o.jsx(B,{className:b.submitButton,type:"submit",onClick:e,title:"Add",id:"icon-plus"})]})},io=()=>{const[e,t]=d.useState(!1),c=()=>{t(!e)},s=()=>{t(!1)};return o.jsxs(o.Fragment,{children:[o.jsx(B,{id:"icon-plus",type:"button",onClick:c,title:"Add another column",className:j.addColumnButton}),o.jsx(R,{isOpen:e,onClose:s,title:"Add column",className:j.addColumnModal,children:o.jsx(uo,{closeModal:s})})]})},mo=()=>{const e=f(g);return o.jsx(o.Fragment,{children:o.jsx("div",{className:O.screenPageContainer,children:o.jsxs(Q,{children:[o.jsx(K,{boardTitle:e.title}),o.jsx(io,{})]})})})},_o=()=>o.jsx(mo,{}),ho=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"}));export{R as C,_o as S,ho as a};

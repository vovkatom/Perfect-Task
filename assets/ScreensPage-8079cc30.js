import{r as d,j as e,I as h,u as p,L as B,x as T,a as P,y,n as g}from"./index-2d380e15.js";import{d as f,c as I,a as N,u as k,o as A}from"./userBoard-selectors-5861d489.js";const v="_background_1x6ut_1",$="_modalPageBox_1x6ut_16",S="_closeButton_1x6ut_37",w="_closeIcon_1x6ut_53",L="_modalTitle_1x6ut_68",M="_errorText_1x6ut_80",m={background:v,modalPageBox:$,closeButton:S,closeIcon:w,modalTitle:L,errorText:M},E=({isOpen:o,onClose:t,title:c,children:s})=>{const u=d.useRef(),[l,x]=d.useState(!1);return d.useEffect(()=>{x(o)},[o]),d.useEffect(()=>{const i=n=>{u.current.contains(n.target)||t()};return l?document.addEventListener("mousedown",i):document.removeEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[l,t]),l?e.jsx("div",{className:m.background,children:e.jsxs("div",{ref:u,className:m.modalPageBox,children:[e.jsx("button",{className:m.closeButton,onClick:t,children:e.jsx(h,{id:"icon-x-close",className:m.closeIcon,width:"18",height:"18"})}),e.jsx("h2",{className:m.modalTitle,children:c}),e.jsx("div",{className:m.content,children:s})]})}):null},R="_screenPageContainer_bv0lx_1",D={screenPageContainer:R},O="_headerDashboardContainer_7b5dx_1",U="_boardTitle_7b5dx_26",q="_boardTitlePlaceholder_7b5dx_33",F="_filterTitle_7b5dx_38",z="_filterIcon_7b5dx_48",_={headerDashboardContainer:O,boardTitle:U,boardTitlePlaceholder:q,filterTitle:F,filterIcon:z},H=({boardTitle:o})=>e.jsxs("div",{className:_.headerDashboardContainer,children:[o?e.jsx("h2",{className:_.boardTitle,children:o}):e.jsx("div",{className:_.boardTitlePlaceholder}),e.jsxs("p",{className:_.filterTitle,children:[e.jsx(h,{id:"icon-filter",width:"16",height:"16",className:_.filterIcon}),"Filters"]})]}),K="_background_xv2xo_1",G={background:K},J=({children:o})=>{const[t,c]=d.useState(!1),[s,u]=d.useState(null),l=p(f);return d.useEffect(()=>{(async()=>{if(!l)return;const{id:i}=l;try{c(!0);const{data:n}=await T(i);console.log(n);const r=document.documentElement;r.style.setProperty("--bg-mobile-1x",`url(${n.backgroundURL.mobile_1x})`),r.style.setProperty("--bg-mobile-2x",`url(${n.backgroundURL.mobile_2x})`),r.style.setProperty("--bg-tablet-1x",`url(${n.backgroundURL.tablet_1x})`),r.style.setProperty("--bg-tablet-2x",`url(${n.backgroundURL.tablet_2x})`),r.style.setProperty("--bg-desktop-1x",`url(${n.backgroundURL.desktop_1x})`),r.style.setProperty("--bg-desktop-2x",`url(${n.backgroundURL.desktop_2x})`)}catch(n){u(n.message)}finally{c(!1),u(null)}})()},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:G.background,children:[t&&e.jsx(B,{centered:!0}),s&&e.jsx("p",{children:s}),o]})})},Q="_addColumnButton_1qwlf_1",V="_icon_1qwlf_28",W="_title_1qwlf_32",j={addColumnButton:Q,icon:V,title:W},X="_buttonAddColumn_pmdne_1",Y="_buttonAddCommon_pmdne_20",Z="_columnPlusButton_pmdne_38",ee="_commonPlusButton_pmdne_48",oe="_columnIcon_pmdne_58",te="_commonIcon_pmdne_64",ne="_columnTitle_pmdne_70",se="_commonTitle_pmdne_77",a={buttonAddColumn:X,buttonAddCommon:Y,columnPlusButton:Z,commonPlusButton:ee,columnIcon:oe,commonIcon:te,columnTitle:ne,commonTitle:se},C=({onClick:o,title:t,type:c,id:s})=>e.jsxs("button",{type:c,className:t==="Add another column"?a.buttonAddColumn:a.buttonAddCommon,onClick:o,children:[s&&e.jsx("div",{className:t==="Add another column"?a.columnPlusButton:a.commonPlusButton,children:e.jsx(h,{className:t==="Add another column"?a.columnIcon:a.commonIcon,id:s,width:"14",height:"14"})}),e.jsx("p",{className:t==="Add another column"?a.columnTitle:a.commonTitle,children:t})]}),ce="_input_1lrzx_1",b={input:ce},le=I().shape({title:N().required()}),re=({closeModal:o})=>{const t=P(),{id:c}=p(f),s=async i=>{const n={title:i.title,board:c},r=await t(y(n));r.type==="boards/addColumn/fulfilled"&&g.Notify.success("Column successful created"),r.error&&g.Notify.failure("Oops,something went wrong. Try again, please."),x()},{register:u,handleSubmit:l,reset:x}=k({resolver:A(le)});return e.jsxs("form",{className:b.form,onSubmit:l(s),children:[e.jsx("input",{className:b.input,placeholder:"Title",...u("title")}),e.jsx(C,{className:b.submitButton,type:"submit",onClick:o,title:"Add",id:"icon-plus"})]})},ae=()=>{const[o,t]=d.useState(!1),c=()=>{t(!o)},s=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(C,{id:"icon-plus",type:"button",onClick:c,title:"Add another column",className:j.addColumnButton}),e.jsx(E,{isOpen:o,onClose:s,title:"Add column",className:j.addColumnModal,children:e.jsx(re,{closeModal:s})})]})},de=()=>{const o=p(f);return e.jsx(e.Fragment,{children:e.jsx("div",{className:D.screenPageContainer,children:e.jsxs(J,{children:[e.jsx(H,{boardTitle:o.title}),e.jsx(ae,{})]})})})},ue=()=>e.jsx(de,{}),_e=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));export{E as C,ue as S,_e as a};

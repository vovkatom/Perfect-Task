import{j as e,c as A,a as B,u as $,r as a,b as R,o as V,I as L,P as W,d as K,n as E,e as Y,s as Z,f as S,g as G,L as J,l as Q}from"./index-db4e4590.js";import{C as X}from"./Container-1659b2cf.js";import{I as T,s as z}from"./Icon-349a3983.js";import{C as F,a as ee,S as se}from"./ScreensPage-2ec05027.js";const te="_burgerButton_1ff8g_1",oe="_burgerIcon_1ff8g_15",U={burgerButton:te,burgerIcon:oe},ne=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:U.burgerButton,type:"button",onClick:s,children:e.jsx(T,{id:"icon-menu",className:U.burgerIcon,width:"24",height:"24"})})}),ae="_headerMainContainer_1nuvp_1",re="_headerContainer_1nuvp_26",le="_customBox_1nuvp_51",ce="_user_1nuvp_58",ie="_userName_1nuvp_66",de="_avatar_1nuvp_81",p={headerMainContainer:ae,headerContainer:re,customBox:le,user:ce,userName:ie,avatar:de},ue="_background_17xf8_1",me="_modalPageBox_17xf8_15",pe="_close_17xf8_27",_e="_editProfileTitle_17xf8_36",he="_errorText_17xf8_124",g={background:ue,modalPageBox:me,close:pe,editProfileTitle:_e,errorText:he},xe=({isOpen:s,onClose:t,title:o,children:n})=>s?e.jsx("div",{className:g.background,children:e.jsxs("div",{className:g.modalPageBox,children:[e.jsx("span",{className:g.close,onClick:t,children:"Ã—"}),e.jsx("h2",{className:g.editProfileTitle,children:o}),e.jsx("div",{className:g.content,children:n})]})}):null,ge="_inputClassName_1l4tr_2",je="_plusIcon_1l4tr_25",be="_buttonSend_1l4tr_32",fe="_authControl_1l4tr_138",Ce="_profileForm_1l4tr_143",ve="_avatar_1l4tr_150",Ne="_buttonIconProfile_1l4tr_159",ke="_buttonPlusProfile_1l4tr_172",u={inputClassName:ge,plusIcon:je,buttonSend:be,authControl:fe,profileForm:Ce,avatar:ve,buttonIconProfile:Ne,buttonPlusProfile:ke},Ie=A().shape({email:B().email().required(),password:B().required(),name:B().required()}),Te=({user:s,onCloseModal:t})=>{var C,v,N;const o=$(),[n,l]=a.useState(null),{register:c,handleSubmit:x,formState:{errors:d}}=R({defaultValues:s,resolver:V(Ie)}),m=i=>{const r=i.target.files[0];l(r)},P=async i=>{try{const r=new FormData;r.append("avatarURL",n),r.append("name",i.name),r.append("email",i.email),r.append("password",i.password),t(),await o(K(r)),E.Notify.success("Profile updated successfully")}catch{return E.Notify.failure("Server error. Please try again.")}};return e.jsxs("form",{className:u.profileForm,onSubmit:x(P),children:[e.jsxs("div",{className:u.avatar,children:[e.jsx("img",{src:n?URL.createObjectURL(n):s.avatarURL,alt:"avatar"}),e.jsxs("div",{className:u.buttonIconProfile,children:[e.jsx("label",{htmlFor:"avatarInput",children:e.jsx("svg",{width:"24",height:"24",className:u.plusIcon,children:e.jsx("use",{xlinkHref:`${z}#icon-plus`})})}),e.jsx("input",{id:"avatarInput",type:"file",accept:"image/*",onChange:m,style:{display:"none"}})]})]}),e.jsx("input",{className:u.inputClassName,...c("name")}),e.jsx(L,{message:(C=d.name)==null?void 0:C.message}),e.jsx("input",{className:u.inputClassName,...c("email")}),e.jsx(L,{message:(v=d.email)==null?void 0:v.message}),e.jsx(W,{className:u.inputClassName,register:c,placeholder:"Current password"}),e.jsx(L,{message:(N=d.password)==null?void 0:N.message}),e.jsx("button",{className:u.buttonSend,type:"submit",children:"Send"})]})},Pe="_background_1qqs1_1",Be="_popUpBox_1qqs1_17",Le="_themeList_1qqs1_38",Se="_popUpBtn_1qqs1_44",k={background:Pe,popUpBox:Be,themeList:Le,popUpBtn:Se},we="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ye=(s=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(s));for(;s--;)t+=we[o[s]&63];return t};const Me=({children:s,onClick:t,listClassName:o,itemClassName:n})=>e.jsx("div",{className:k.background,children:e.jsx("div",{className:k.popUpBox,children:e.jsx("ul",{className:`${k.themeList} ${o} `,children:s==null?void 0:s.map((l,c)=>e.jsx("li",{id:ye(),className:n,children:e.jsx("button",{className:k.popUpBtn,onClick:()=>t(l),children:l})},c))})})}),w="theme",j="light",b="dark",f="violet",$e=()=>{const s=document.querySelector("body");document.querySelector(".themeChangeList").addEventListener("click",o=>{o.preventDefault();const{textContent:n}=o.target,l=n.trim().toLowerCase();switch(console.log(l),console.log(s),l){case j:localStorage.setItem(w,j),s.classList.add(j),s.classList.remove(b),s.classList.remove(f);break;case b:localStorage.setItem(w,b),s.classList.add(b),s.classList.remove(j),s.classList.remove(f);break;case f:localStorage.setItem(w,f),s.classList.add(f),s.classList.remove(j),s.classList.remove(b);break}})},Ee=({onClick:s})=>(a.useEffect(()=>{$e()},[]),e.jsx(Me,{onClick:s,listClassName:"themeChangeList",itemClassName:"themeChangeItem",children:["Light","Dark","Violet"]})),Ue="_themeBtn_ik5it_1",qe="_themeIcon_ik5it_30",q={themeBtn:Ue,themeIcon:qe},Oe=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsxs("button",{className:q.themeBtn,type:"button",onClick:s,children:["Theme",e.jsx(T,{id:"chevron-down",className:q.themeIcon,width:"10",height:"7"})]})}),Fe=({toggleSidebar:s})=>{const t=Y(Z),[o,n]=a.useState(!1),[l,c]=a.useState(!1),x=()=>{n(!0)},d=()=>{n(!1)},m=()=>{c(!l)};return e.jsxs("div",{className:p.headerMainContainer,children:[e.jsxs("header",{className:p.headerContainer,children:[e.jsx(ne,{onClick:s}),e.jsxs("div",{className:p.customBox,children:[e.jsx(Oe,{onClick:m}),e.jsxs("div",{className:p.user,onClick:x,children:[e.jsx("p",{className:p.userName,children:t==null?void 0:t.name}),e.jsx("div",{className:p.avatar,children:e.jsx("img",{src:`${t==null?void 0:t.avatarURL}`,alt:"User avatar"})})]})]})]}),e.jsx(Ee,{onClick:m}),e.jsxs(xe,{isOpen:o,onClose:d,title:"Edit profile",children:[e.jsx(Te,{user:t,onCloseModal:d})," "]})]})},He="_container_djswe_1",De="_sidebar_djswe_11",Ae="_myBoardsTitle_djswe_30",y={container:He,sidebar:De,myBoardsTitle:Ae},Re="_logo_18buk_1",Ve="_logoIcon_18buk_8",We="_logoTitle_18buk_30",M={logo:Re,logoIcon:Ve,logoTitle:We},Ke=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:M.logo,children:[e.jsx(T,{className:M.logoIcon,id:"icon-logo2",width:"32",height:"32"}),e.jsx("p",{className:M.logoTitle,children:"Perfect Task"})]})}),Ye="_button_1u7x0_1",Ze="_buttonTitle_1u7x0_21",Ge="_buttonIcon_1u7x0_28",Je="_buttonPlus_1u7x0_39",I={button:Ye,buttonTitle:Ze,buttonIcon:Ge,buttonPlus:Je},Qe=()=>{const[s,t]=a.useState(!1),o=()=>{t(!0)},n=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:I.button,type:"button",onClick:o,children:[e.jsx("p",{className:I.buttonTitle,children:"Create a new board"}),e.jsx("div",{className:I.buttonIcon,children:e.jsx("p",{className:I.buttonPlus,children:"+"})})]}),e.jsx(F,{isOpen:s,onClose:n,children:e.jsx(ee,{})})]})},Xe="_modalInput_9fd9x_8",ze="_modalControl_9fd9x_20",es="_modalControlText_9fd9x_27",ss="_modalButton_9fd9x_34",_={modalInput:Xe,modalControl:ze,modalControlText:es,modalButton:ss},O={email:"",message:""},ts=()=>{const[s,t]=a.useState({...O}),o=$(),n=i=>{const{name:r,value:H}=i.target;t(D=>({...D,[r]:H}))},l=i=>{i.preventDefault();try{o(G(s)),c()}catch(r){console.log(r.response.data.message)}},c=()=>{t({...O})},x=a.useId(),d=a.useId(),{email:m,message:P}=s,C=S(_.modalInput,_.modalControl),v=S(_.modalInput,_.modalControlText),N=S(_.modalButton,_.modalControl);return e.jsx("div",{children:e.jsxs("form",{onSubmit:l,children:[e.jsx("div",{children:e.jsx("input",{className:C,type:"email",id:x,name:"email",value:m,onChange:n,placeholder:"Email address",required:!0})}),e.jsx("div",{children:e.jsx("textarea",{className:v,id:d,name:"message",value:P,onChange:n,rows:"4",placeholder:"Comment",required:!0})}),e.jsx("button",{className:N,type:"submit",children:"Send"})]})})},os="_container_1f9ov_1",ns="_image_1f9ov_10",as="_infoText_1f9ov_18",rs="_perfectTask_1f9ov_27",ls="_question_1f9ov_31",cs="_needHelp_1f9ov_38",is="_link_1f9ov_42",h={container:os,image:ns,infoText:as,perfectTask:rs,question:ls,needHelp:cs,link:is},ds=s=>a.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s},a.createElement("g",{clipPath:"url(#clip0_104_748)"},a.createElement("path",{d:"M9.99984 18.3334C14.6022 18.3334 18.3332 14.6024 18.3332 10C18.3332 5.39765 14.6022 1.66669 9.99984 1.66669C5.39746 1.66669 1.6665 5.39765 1.6665 10C1.6665 14.6024 5.39746 18.3334 9.99984 18.3334Z",stroke:"#161616",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M7.5752 7.49999C7.77112 6.94304 8.15782 6.47341 8.66682 6.17426C9.17583 5.87512 9.77428 5.76577 10.3562 5.86558C10.9381 5.96539 11.4659 6.26792 11.8461 6.71959C12.2263 7.17126 12.4344 7.74292 12.4335 8.33332C12.4335 9.99999 9.93353 10.8333 9.93353 10.8333",stroke:"#161616",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10 14.1667H10.0125",stroke:"#161616",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_104_748"},a.createElement("rect",{width:20,height:20,fill:"white"})))),us=()=>{const[s,t]=a.useState(!1),o=()=>{t(!0)},n=()=>{t(!1)};return e.jsxs("div",{className:h.container,children:[e.jsx("svg",{className:h.image}),e.jsxs("p",{className:h.infoText,children:["If you need help with"," ",e.jsx("span",{className:h.perfectTask,children:"Perfect Task"}),", check out our support resources or reach out to our customer support team."]}),e.jsx("p",{className:h.needHelp,children:e.jsxs(J,{className:h.link,onClick:o,children:[e.jsx(ds,{}),"Need help?"]})}),e.jsx(F,{isOpen:s,onClose:n,title:"Need help",children:e.jsx(ts,{})})]})},ms="_btn_logout_puugr_1",ps={btn_logout:ms},_s=()=>{const s=$(),t=()=>s(Q());return e.jsx("div",{children:e.jsxs("button",{className:ps.btn_logout,onClick:t,type:"button",children:[e.jsx(T,{id:"logout",width:"32",height:"32",className:""}),"Log Out"]})})},hs=()=>e.jsxs("div",{className:`${y.container} ${y.sidebar}`,children:[e.jsx(Ke,{}),e.jsx("h3",{className:y.myBoardsTitle,children:"My boards"}),e.jsx(Qe,{}),e.jsx(us,{}),e.jsx(_s,{})]}),xs="_background_stxq7_1",gs={background:xs},vs=()=>{const[s,t]=a.useState(!1),o=()=>{t(!s)};return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{toggleSidebar:o}),e.jsxs("div",{className:gs.background,children:[s&&e.jsx(hs,{}),e.jsx(X,{className:"home-page",children:e.jsx(se,{})})]})]})};export{vs as default};

import{j as e,a as L,c as O,b as H,d as I,u as y,r as a,e as R,o as A,I as B,P as z,n as S,f as D,s as V,g as P,L as W,l as Z}from"./index-15ee9983.js";import{C as G}from"./Container-e8306bd5.js";import{I as k,s as J}from"./Icon-35e15094.js";import{C as E,a as K,S as Q}from"./ScreensPage-2a62d59a.js";const X="_burgerButton_1ff8g_1",Y="_burgerIcon_1ff8g_15",M={burgerButton:X,burgerIcon:Y},ee=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:M.burgerButton,type:"button",onClick:s,children:e.jsx(k,{id:"icon-menu",className:M.burgerIcon,width:"24",height:"24"})})}),se="_headerMainContainer_keln4_1",te="_headerContainer_keln4_26",oe="_customBox_keln4_51",ne="_user_keln4_57",ae="_userName_keln4_64",re="_avatar_keln4_73",p={headerMainContainer:se,headerContainer:te,customBox:oe,user:ne,userName:ae,avatar:re},ce="_background_1ucp1_1",le="_modalPageBox_1ucp1_14",ie="_close_1ucp1_27",de="_errorText_1ucp1_62",f={background:ce,modalPageBox:le,close:ie,errorText:de},ue=({isOpen:s,onClose:t,title:o,children:n})=>s?e.jsx("div",{className:f.background,children:e.jsxs("div",{className:f.modalPageBox,children:[e.jsx("span",{className:f.close,onClick:t,children:"Ã—"}),e.jsx("h2",{children:o}),e.jsx("div",{className:f.content,children:n})]})}):null,me="_inputClassName_lezue_1",pe="_authControl_lezue_20",_e="_profileForm_lezue_25",he="_avatar_lezue_32",xe="_buttonIconProfile_lezue_40",ge="_buttonPlusProfile_lezue_54",je="_plusIconBackground_lezue_64",be="_plusIcon_lezue_64",fe="_buttonSend_lezue_87",i={inputClassName:me,authControl:pe,profileForm:_e,avatar:he,buttonIconProfile:xe,buttonPlusProfile:ge,plusIconBackground:je,plusIcon:be,buttonSend:fe},Ce=async s=>{const{data:t}=await L.post("/users/support",s);return t},Ne=async s=>{try{const{data:t}=await L.patch("/users/update",s,{headers:{"Content-Type":"multipart/form-data"}});return t}catch(t){throw new Error(t.message)}},ke=O("user/support",async(s,{rejectWithValue:t})=>{try{return await Ce(s)}catch(o){return t(o.response.data.message)}}),ve=O("user/update",async(s,t)=>{try{return await Ne(s)}catch(o){return t.rejectWithValue(o.message)}}),Ie=H().shape({email:I().email().required(),password:I().required(),name:I().required()}),Be=({user:s,onCloseModal:t})=>{var g,j,b;const o=y(),[n,u]=a.useState(null),{register:d,handleSubmit:x,formState:{errors:c}}=R({defaultValues:s,resolver:A(Ie)}),m=l=>{const r=l.target.files[0];u(r)},v=async l=>{try{const r=new FormData;r.append("avatarURL",n),r.append("name",l.name),r.append("email",l.email),await o(ve(r)),t(),S.Notify.success("Profile updated successfully")}catch{return S.Notify.failure("Server error. Please try again.")}};return e.jsxs("form",{className:i.profileForm,onSubmit:x(v),children:[e.jsxs("div",{className:i.avatar,children:[e.jsx("img",{src:n?URL.createObjectURL(n):s.avatarURL,alt:"avatar"}),e.jsxs("div",{className:i.buttonIconProfile,children:[e.jsx("label",{htmlFor:"avatarInput",children:e.jsx("svg",{width:"24",height:"24",className:i.plusIcon,children:e.jsx("use",{xlinkHref:`${J}#icon-plus`})})}),e.jsx("input",{id:"avatarInput",type:"file",accept:"image/*",onChange:m,style:{display:"none"}})]})]}),e.jsx("input",{className:i.inputClassName,...d("name")}),e.jsx(B,{message:(g=c.name)==null?void 0:g.message}),e.jsx("input",{className:i.inputClassName,...d("email")}),e.jsx(B,{message:(j=c.email)==null?void 0:j.message}),e.jsx(z,{className:i.inputClassName,register:d,placeholder:"Current password"}),e.jsx(B,{message:(b=c.password)==null?void 0:b.message}),e.jsx("button",{className:i.buttonSend,type:"submit",children:"Send"})]})},Pe="_themeBtn_ik5it_1",Te="_themeIcon_ik5it_30",$={themeBtn:Pe,themeIcon:Te},we=({onClick:s})=>e.jsx(e.Fragment,{children:e.jsxs("button",{className:$.themeBtn,type:"button",onClick:s,children:["Theme",e.jsx(k,{id:"chevron-down",className:$.themeIcon,width:"10",height:"7"})]})}),ye="_background_1ggg8_1",Se="_popUpBox_1ggg8_17",Me="_list_1ggg8_38",$e="_popUpBtn_1ggg8_44",C={background:ye,popUpBox:Se,list:Me,popUpBtn:$e},Ue="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Le=(s=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(s));for(;s--;)t+=Ue[o[s]&63];return t};const Oe=({children:s,onClick:t})=>e.jsx("div",{className:C.background,children:e.jsx("div",{className:C.popUpBox,children:e.jsx("ul",{className:C.list,children:s==null?void 0:s.map((o,n)=>e.jsx("li",{id:Le(),children:e.jsx("button",{className:C.popUpBtn,onClick:()=>t(o),children:o})},n))})})}),Ee=({toggleSidebar:s})=>{const t=D(V),[o,n]=a.useState(!1),[u,d]=a.useState(!1),x=()=>{n(!0)},c=()=>{n(!1)},m=()=>{d(!u)};return e.jsxs("div",{className:p.headerMainContainer,children:[e.jsxs("header",{className:p.headerContainer,children:[e.jsx(ee,{onClick:s}),e.jsxs("div",{className:p.customBox,children:[e.jsx(we,{onClick:m}),e.jsxs("div",{className:p.user,onClick:x,children:[e.jsx("p",{className:p.userName,children:t==null?void 0:t.name}),e.jsx("div",{className:p.avatar,children:e.jsx("img",{src:`${t==null?void 0:t.avatarURL}`,alt:"User avatar"})})]})]})]}),u&&e.jsx(Oe,{onClick:m,children:["Light","Dark","Violet"]}),e.jsxs(ue,{isOpen:o,onClose:c,title:"Edit profile",children:[e.jsx(Be,{user:t,onCloseModal:c})," "]})]})},Fe="_container_djswe_1",qe="_sidebar_djswe_11",He="_myBoardsTitle_djswe_30",T={container:Fe,sidebar:qe,myBoardsTitle:He},Re="_logo_18buk_1",Ae="_logoIcon_18buk_8",ze="_logoTitle_18buk_30",w={logo:Re,logoIcon:Ae,logoTitle:ze},De=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:w.logo,children:[e.jsx(k,{className:w.logoIcon,id:"icon-logo2",width:"32",height:"32"}),e.jsx("p",{className:w.logoTitle,children:"Perfect Task"})]})}),Ve="_button_1u7x0_1",We="_buttonTitle_1u7x0_21",Ze="_buttonIcon_1u7x0_28",Ge="_buttonPlus_1u7x0_39",N={button:Ve,buttonTitle:We,buttonIcon:Ze,buttonPlus:Ge},Je=()=>{const[s,t]=a.useState(!1),o=()=>{t(!0)},n=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:N.button,type:"button",onClick:o,children:[e.jsx("p",{className:N.buttonTitle,children:"Create a new board"}),e.jsx("div",{className:N.buttonIcon,children:e.jsx("p",{className:N.buttonPlus,children:"+"})})]}),e.jsx(E,{isOpen:s,onClose:n,children:e.jsx(K,{})})]})},Ke="_modalInput_9fd9x_8",Qe="_modalControl_9fd9x_20",Xe="_modalControlText_9fd9x_27",Ye="_modalButton_9fd9x_34",_={modalInput:Ke,modalControl:Qe,modalControlText:Xe,modalButton:Ye},U={email:"",message:""},es=()=>{const[s,t]=a.useState({...U}),o=y(),n=l=>{const{name:r,value:F}=l.target;t(q=>({...q,[r]:F}))},u=l=>{l.preventDefault();try{o(ke(s)),d()}catch(r){console.log(r.response.data.message)}},d=()=>{t({...U})},x=a.useId(),c=a.useId(),{email:m,message:v}=s,g=P(_.modalInput,_.modalControl),j=P(_.modalInput,_.modalControlText),b=P(_.modalButton,_.modalControl);return e.jsx("div",{children:e.jsxs("form",{onSubmit:u,children:[e.jsx("div",{children:e.jsx("input",{className:g,type:"email",id:x,name:"email",value:m,onChange:n,placeholder:"Email address",required:!0})}),e.jsx("div",{children:e.jsx("textarea",{className:j,id:c,name:"message",value:v,onChange:n,rows:"4",placeholder:"Comment",required:!0})}),e.jsx("button",{className:b,type:"submit",children:"Send"})]})})},ss="_container_1f9ov_1",ts="_image_1f9ov_10",os="_infoText_1f9ov_18",ns="_perfectTask_1f9ov_27",as="_question_1f9ov_31",rs="_needHelp_1f9ov_38",cs="_link_1f9ov_42",h={container:ss,image:ts,infoText:os,perfectTask:ns,question:as,needHelp:rs,link:cs},ls=s=>a.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s},a.createElement("g",{clipPath:"url(#clip0_104_748)"},a.createElement("path",{d:"M9.99984 18.3334C14.6022 18.3334 18.3332 14.6024 18.3332 10C18.3332 5.39765 14.6022 1.66669 9.99984 1.66669C5.39746 1.66669 1.6665 5.39765 1.6665 10C1.6665 14.6024 5.39746 18.3334 9.99984 18.3334Z",stroke:"#161616",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M7.5752 7.49999C7.77112 6.94304 8.15782 6.47341 8.66682 6.17426C9.17583 5.87512 9.77428 5.76577 10.3562 5.86558C10.9381 5.96539 11.4659 6.26792 11.8461 6.71959C12.2263 7.17126 12.4344 7.74292 12.4335 8.33332C12.4335 9.99999 9.93353 10.8333 9.93353 10.8333",stroke:"#161616",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10 14.1667H10.0125",stroke:"#161616",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_104_748"},a.createElement("rect",{width:20,height:20,fill:"white"})))),is=()=>{const[s,t]=a.useState(!1),o=()=>{t(!0)},n=()=>{t(!1)};return e.jsxs("div",{className:h.container,children:[e.jsx("svg",{className:h.image}),e.jsxs("p",{className:h.infoText,children:["If you need help with"," ",e.jsx("span",{className:h.perfectTask,children:"Perfect Task"}),", check out our support resources or reach out to our customer support team."]}),e.jsx("p",{className:h.needHelp,children:e.jsxs(W,{className:h.link,onClick:o,children:[e.jsx(ls,{}),"Need help?"]})}),e.jsx(E,{isOpen:s,onClose:n,title:"Need help",children:e.jsx(es,{})})]})},ds="_btn_logout_puugr_1",us={btn_logout:ds},ms=()=>{const s=y(),t=()=>s(Z());return e.jsx("div",{children:e.jsxs("button",{className:us.btn_logout,onClick:t,type:"button",children:[e.jsx(k,{id:"logout",width:"32",height:"32",className:""}),"Log Out"]})})},ps=()=>e.jsxs("div",{className:`${T.container} ${T.sidebar}`,children:[e.jsx(De,{}),e.jsx("h3",{className:T.myBoardsTitle,children:"My boards"}),e.jsx(Je,{}),e.jsx(is,{}),e.jsx(ms,{})]}),_s="_background_stxq7_1",hs={background:_s},fs=()=>{const[s,t]=a.useState(!1),o=()=>{t(!s)};return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{toggleSidebar:o}),e.jsxs("div",{className:hs.background,children:[s&&e.jsx(ps,{}),e.jsx(G,{className:"home-page",children:e.jsx(Q,{})})]})]})};export{fs as default};
